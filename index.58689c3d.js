function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r),r.register("brr8Z",function(e,t){document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".switcher-toggle"),t=localStorage.getItem("theme");"dark"===t&&(e.checked=!0,document.body.classList.add("dark-theme"),e.style.transform="translateX(20px)"),e.addEventListener("click",function(e){e.stopPropagation()});let n=localStorage.getItem("theme");n&&(document.body.classList.toggle("dark-theme","dark"===n),e.checked="dark"===n,e.style.transform="dark"===n?"translateX(20px)":"translateX(0)"),e.addEventListener("change",function(){document.body.classList.toggle("dark-theme");let t=document.body.classList.contains("dark-theme")?"dark":"light";localStorage.setItem("theme",t),e.checked?e.style.transform="translateX(20px)":e.style.transform="translateX(0)"}),document.body.classList.remove("preload")})}),r.register("8FnLx",function(e,t){var n=r("jQ7WT");(()=>{let e=document.querySelector(".js-mobile-container"),t=document.querySelector(".js-open-menu"),i=document.querySelector(".js-mob-menu"),r=document.querySelector(".js-menu-close"),s=document.querySelector(".header-container"),o=()=>{let r="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!r),e.classList.toggle("is-open"),i.classList.toggle("is-open"),r?((0,n.enableBodyScroll)(document.body),(0,n.enableBodyScroll)(s)):((0,n.disableBodyScroll)(document.body),(0,n.disableBodyScroll)(s))};t.addEventListener("click",o),r.addEventListener("click",o)})()}),r.register("jQ7WT",function(t,n){e(t.exports,"disableBodyScroll",function(){return _}),e(t.exports,"enableBodyScroll",function(){return v});var i=!1;if("undefined"!=typeof window){var r={get passive(){i=!0;return}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),o=[],a=!1,l=-1,u=void 0,c=void 0,h=void 0,d=function(e){return o.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},f=function(e){var t=e||window.event;return!!d(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},p=function(e){if(void 0===h){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var i=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);h=document.body.style.paddingRight,document.body.style.paddingRight=i+n+"px"}}void 0===u&&(u=document.body.style.overflow,document.body.style.overflow="hidden")},m=function(){void 0!==h&&(document.body.style.paddingRight=h,h=void 0),void 0!==u&&(document.body.style.overflow=u,u=void 0)},g=function(){if(void 0!==c){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=c.position,document.body.style.top=c.top,document.body.style.left=c.left,window.scrollTo(t,e),c=void 0}},y=function(e,t){var n=e.targetTouches[0].clientY-l;return!d(e.target)&&(t&&0===t.scrollTop&&n>0?f(e):t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?f(e):(e.stopPropagation(),!0))},_=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}o.some(function(t){return t.targetElement===e})||(o=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(o),[{targetElement:e,options:t||{}}]),s?window.requestAnimationFrame(function(){if(void 0===c){c={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,i=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=i-window.innerHeight;e&&t>=i&&(document.body.style.top=-(t+e))})},300)}}):p(t),!s||(e.ontouchstart=function(e){1===e.targetTouches.length&&(l=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&y(t,e)},a||(document.addEventListener("touchmove",f,i?{passive:!1}:void 0),a=!0)))},v=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}o=o.filter(function(t){return t.targetElement!==e}),s&&(e.ontouchstart=null,e.ontouchmove=null,a&&0===o.length&&(document.removeEventListener("touchmove",f,i?{passive:!1}:void 0),a=!1)),s?g():m()}}),r.register("75VGX",function(e,t){document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("show-more-button"),t=document.querySelector(".support-ukraine-block"),n=document.querySelector("#show-more-button"),i=document.querySelector(".support-ukraine-container__inner"),r=getComputedStyle(i),s=0;e.addEventListener("click",function(){"188px"===r.height?1==++s||5==s||9==s||13==s||17==s||21==s?t.classList.add("expanded"):2==s||6==s||10==s||14==s||18==s||22==s?(t.classList.add("expanded"),t.classList.toggle("expanded-second"),n.style.transform="rotate(180deg)",n.style.transition="250ms cubic-bezier(0.4, 0, 0.2, 1)"):3==s||7==s||11==s||15==s||19==s||23==s?(t.classList.toggle("expanded-second"),n.style.transform="rotate(180deg)",n.style.transition="250ms cubic-bezier(0.4, 0, 0.2, 1)"):(4==s||8==s||12==s||16==s||20==s||24==s)&&(t.classList.toggle("expanded"),n.style.transform="rotate(0deg)"):"305px"===r.height&&t.classList.toggle("expanded")})})}),r.register("jJ57b",function(t,n){e(t.exports,"shoppingList",function(){return o}),e(t.exports,"getBooks",function(){return a});var i=r("bMZn5");r("jAzyG");var s=r("8NPS8");let o=[];async function a(){let e=i.auth.currentUser.uid,t=(0,s.ref)(i.database,`users/${e}/books`);return o.splice(0,o.length),(0,s.get)(t).then(e=>{if(e.exists()){let t=e.val(),n=Object.values(t);n.forEach(({bookId:e})=>{o.push(e)})}}).catch(e=>{console.log(e)})}}),r.register("bMZn5",function(t,n){e(t.exports,"auth",function(){return _}),e(t.exports,"database",function(){return v}),e(t.exports,"removeBookData",function(){return E}),e(t.exports,"onSubmitReg",function(){return k}),e(t.exports,"onSignInClick",function(){return x});var i=r("bTcpz"),s=r("gZ6M0"),o=r("dSs1Y"),a=r("iQIUW");r("gKkQl");var l=r("ix4Jr");r("eyjy7");var u=r("byAmK");r("jAzyG");var c=r("8NPS8");r("2shzp");var h=r("bRlFp"),d=r("8EhaU");let f=document.querySelector(".signIn-form"),p=document.querySelectorAll("body"),m=document.querySelector(".user-btn-container"),g=document.querySelectorAll(".user-name");document.querySelector("body > div.container.home-container > main");let y=(0,l.initializeApp)({apiKey:"AIzaSyAQxsm1fVLslhxTiwQ3FCGOtjW_RrvvnpE",authDomain:"bookshelf-b7b0a.firebaseapp.com",projectId:"bookshelf-b7b0a",storageBucket:"bookshelf-b7b0a.appspot.com",messagingSenderId:"435762232768",appId:"1:435762232768:web:c27015f9ad01edd0675c25",databaseURL:"https://bookshelf-b7b0a-default-rtdb.firebaseio.com/"}),_=(0,u.o)(),v=(0,c.getDatabase)(y);(0,u.x)(_,e=>{if(e){(0,o.Loading).pulse();let t=e.uid;e.email,e.photoURL,e.emailVerified,function(e){let t=(0,c.ref)((0,c.getDatabase)());(0,c.get)((0,c.child)(t,`users/${e}`)).then(e=>{if(e.exists()){let t=e.val();for(let e of(m.style.display="block",g))e.textContent=`${t.displayName}`;for(let e of p)e.classList.add("sign-in")}else console.log("No data available")}).catch(e=>{console.error(e)})}(t),function(e,t){let n=(0,c.ref)((0,c.getDatabase)(),`users/${e}/books`);(0,c.get)(n).then(e=>{if(!e.exists())return console.log("No shopping list data available"),[];{let t=e.val(),n=Object.values(t);n&&n.forEach(({bookId:e})=>{(0,i.shopingList).push(e),w(e)})}}).catch(e=>{console.log(e)})}(t),(0,o.Loading).remove()}}),document.querySelectorAll(".book-by-category-list"),_.currentUser,(0,c.onValue)((0,c.ref)(v,"users"),function(e){});let b={deleteBtn:document.querySelector(".btn-delete"),defaultPage:document.querySelector(".default-page"),showElement:document.querySelector(".js-container"),shopLink:document.querySelector(".shopping-link")};async function w(e){try{let t=[],{data:n}=await (0,h.default).get(`https://books-backend.p.goit.global/books/${e}`);t.push(n);let i=t.every(e=>e.id===n.id);if(i||t.push(n),0!==t.length){b.defaultPage.classList.add("visually-hidden");let e=(0,d.createMarkup)(t);b.showElement.insertAdjacentHTML("beforeend",e),(0,o.Loading).remove()}0===t.length&&b.defaultPage.classList.remove("visually-hidden");let r=document.querySelectorAll(".btn-delete");r.forEach(e=>{e.addEventListener("click",I)})}catch(e){console.log(e.message)}}function I(e){let t=e.currentTarget.closest(".list-cards"),n=t.id;E(n),t.remove(),0===b.showElement.children.length&&b.defaultPage.classList.remove("visually-hidden")}function E(e){let t=_.currentUser.uid,n=(0,c.getDatabase)(y),i=(0,c.ref)(n,`users/${t}/books/`);(0,c.get)(i).then(t=>{if(t.exists()){let n=t.val();for(let t in n)if(n.hasOwnProperty(t)){let r=n[t];if(r.bookId===e){let e=(0,c.child)(i,t);(0,c.remove)(e).then(()=>{(0,a.Notify).success("Book deleted successfully.")}).catch(e=>{(0,a.Notify).failure("Error.")})}}}}).catch(e=>{console.error("Ошибка получения данных о книгах:",e),(0,a.Notify).failure("Error getting data about books.")})}function k(e){let t=f.name.value,n=f.email.value,i=f.password.value;(0,u.a8)(_,n,i).then(e=>{let n=e.user,i=n.email;n.photoURL,function(e,t,n,i){let r=(0,c.ref)(v,"users/"+e);(0,c.set)(r,{displayName:t,email:n}).then(()=>{(0,a.Notify).success("Name added to the database successfully.")}).catch(e=>{console.error("Error adding name to the database:",e)})}(n.uid,t,i),(0,s.onCloseClick)()}).catch(e=>{e.code,e.message})}function x(){f.name.value;let e=f.email.value,t=f.password.value;(0,u.a9)(_,e,t).then(e=>{e.user,(0,s.onCloseClick)(),(0,a.Notify).success("Glad you're back again")}).catch(e=>{let t=e.code;e.message,"auth/wrong-password"===t?(0,a.Notify).failure("Wrong password. Please try again."):"auth/user-not-found"===t&&(0,a.Notify).failure("User not found. Please check your email or sign up.")})}(0,o.Loading).init({backgroundColor:"rgba(0,0,0,0.1)",svgColor:"#4f2ee8"})}),r.register("bTcpz",function(t,n){e(t.exports,"shopingList",function(){return c}),e(t.exports,"modalInit",function(){return N}),r("2shzp");var i=r("bRlFp"),s=r("iQIUW"),o=r("bMZn5");r("jAzyG");var a=r("8NPS8"),l=r("jJ57b");let u={},c=[],h=document.querySelector("div#modal"),d=h.querySelector(".modal-close-btn"),f=h.querySelector(".modal-close-btn-svg"),p=h.querySelector(".modal-close-btn-svg use"),m=h.querySelector("button.modal-order-btn"),g=h.querySelector(".modal-image-container"),y=h.querySelector(".modal-title"),_=h.querySelector(".modal-sub-title"),v=h.querySelector(".modal-description"),b=h.querySelector(".modal-links"),w=h.querySelector(".modal-success-mesage"),I=h.querySelector(".modal-order-btn"),E="",k=async e=>{await (0,i.default).request({timeout:5e3,method:"GET",url:"https://books-backend.p.goit.global/books/"+e}).then(e=>{u=e.data})},x=async function(e){e.preventDefault(),E=this.getAttribute("data-book-id"),o.auth.currentUser&&(await (0,l.getBooks)(),A(E)),h.classList.remove("is-hidden"),w.classList.add("is-hidden"),m.disabled=!document.body.classList.contains("sign-in"),document.body.classList.contains("sign-in")||(m.innerHTML="Add to shopping list(requires sign-in)"),document.body.classList.add("no-scroll"),I.addEventListener("click",T),await k(E),v.innerHTML="",b.innerHTML="",void 0!==u.book_image&&(g.innerHTML='<img src="'+u.book_image+'">'),void 0!==u.title&&(y.innerText=u.title),void 0!==u.author&&(_.innerText=u.author),void 0!==u.description&&(v.innerText=u.description),void 0!==u.buy_links&&u.buy_links.length>0&&u.buy_links.forEach(e=>{["Amazon","Apple Books","Bookshop"].includes(e.name)&&(e.name=e.name.trim().toLowerCase().replace(" ","-"),b.insertAdjacentHTML("beforeend",'<a href="'+e.url+'" class="modal-link-'+e.name+'" target="_blank"></a>'))}),document.addEventListener("keydown",S)};async function T(){let e=I.dataset.action;"add"===e?(I.dataset.action="remove",C="Remove from the shopping list",w.classList.remove("is-hidden"),await R(E)):"remove"===e&&(I.dataset.action="add",I.innerHTML="Add to shopping list",w.classList.add("is-hidden"),await (0,o.removeBookData)(E)),I.blur()}let S=function(e){(void 0!==e.target&&(e.target===h||e.target===d||e.target===f||e.target===p)||void 0!==e.key&&"Escape"===e.key)&&(e.preventDefault(),h.classList.add("is-hidden"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",S),I.removeEventListener("click",R),g.innerHTML="",v.innerText="",y.innerText="",_.innerText="")},N=()=>{let e=document.querySelectorAll("li.js-book-card[data-book-id]");e.forEach(e=>{e.addEventListener("click",x)}),h.addEventListener("click",S),d.addEventListener("click",S)};function R(e){let t=o.auth.currentUser.uid;try{let n=(0,a.ref)(o.database,`users/${t}/books`);(0,a.push)(n,{bookId:e}).then(()=>{(0,s.Notify).success("Book added to user's shopping list successfully.")}).catch(e=>{console.error("Error adding book to user's shopping list:",e)})}catch(e){console.error("Error adding book to user's shopping list:",e)}}async function A(e){[...(0,l.shoppingList)].includes(e)?(I.dataset.action="remove",I.innerHTML="Remove from the shopping list"):(I.dataset.action="add",I.innerHTML="Add to shopping list")}N()}),r.register("2shzp",function(t,n){e(t.exports,"default",function(){return r("bRlFp").default});var i=r("bRlFp");let{Axios:s,AxiosError:o,CanceledError:a,isCancel:l,CancelToken:u,VERSION:c,all:h,Cancel:d,isAxiosError:f,spread:p,toFormData:m,AxiosHeaders:g,HttpStatusCode:y,formToJSON:_,mergeConfig:v}=i.default}),r.register("bRlFp",function(t,n){e(t.exports,"default",function(){return w});var i=r("2bBga"),s=r("djt5d"),o=r("6zSb1"),a=r("d0EKm"),l=r("hqlPG"),u=r("4bmvb"),c=r("83xK9"),h=r("2sjhC"),d=r("ksuZT"),f=r("50GW0"),p=r("aewVa"),m=r("121rJ"),g=r("av9gA"),y=r("gNhGc"),_=r("gbTL1"),v=r("jd7iQ");let b=function e(t){let n=new o.default(t),r=(0,s.default)(o.default.prototype.request,n);return(0,i.default).extend(r,o.default.prototype,n,{allOwnKeys:!0}),(0,i.default).extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e((0,a.default)(t,n))},r}(l.default);b.Axios=o.default,b.CanceledError=c.default,b.CancelToken=h.default,b.isCancel=d.default,b.VERSION=f.VERSION,b.toFormData=p.default,b.AxiosError=m.default,b.Cancel=b.CanceledError,b.all=function(e){return Promise.all(e)},b.spread=g.default,b.isAxiosError=y.default,b.mergeConfig=a.default,b.AxiosHeaders=_.default,b.formToJSON=e=>(0,u.default)((0,i.default).isHTMLForm(e)?new FormData(e):e),b.HttpStatusCode=v.default,b.default=b;var w=b}),r.register("2bBga",function(n,i){e(n.exports,"default",function(){return j});var s,o,a=r("djt5d");let{toString:l}=Object.prototype,{getPrototypeOf:u}=Object,c=(s=Object.create(null),e=>{let t=l.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())}),h=e=>(e=e.toLowerCase(),t=>c(t)===e),d=e=>t=>typeof t===e,{isArray:f}=Array,p=d("undefined"),m=h("ArrayBuffer"),g=d("string"),y=d("function"),_=d("number"),v=e=>null!==e&&"object"==typeof e,b=e=>{if("object"!==c(e))return!1;let t=u(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w=h("Date"),I=h("File"),E=h("Blob"),k=h("FileList"),x=h("URLSearchParams");function T(e,t,{allOwnKeys:n=!1}={}){let i,r;if(null!=e){if("object"!=typeof e&&(e=[e]),f(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{let r;let s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(i=0;i<o;i++)r=s[i],t.call(null,e[r],r,e)}}}function S(e,t){let n;t=t.toLowerCase();let i=Object.keys(e),r=i.length;for(;r-- >0;)if(t===(n=i[r]).toLowerCase())return n;return null}let N="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t,R=e=>!p(e)&&e!==N,A=(o="undefined"!=typeof Uint8Array&&u(Uint8Array),e=>o&&e instanceof o),P=h("HTMLFormElement"),O=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),L=h("RegExp"),D=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),i={};T(n,(n,r)=>{!1!==t(n,r,e)&&(i[r]=n)}),Object.defineProperties(e,i)},M="abcdefghijklmnopqrstuvwxyz",U="0123456789",F={DIGIT:U,ALPHA:M,ALPHA_DIGIT:M+M.toUpperCase()+U},B=h("AsyncFunction");var j={isArray:f,isArrayBuffer:m,isBuffer:function(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&m(e.buffer)},isString:g,isNumber:_,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:b,isUndefined:p,isDate:w,isFile:I,isBlob:E,isRegExp:L,isFunction:y,isStream:e=>v(e)&&y(e.pipe),isURLSearchParams:x,isTypedArray:A,isFileList:k,forEach:T,merge:function e(){let{caseless:t}=R(this)&&this||{},n={},i=(i,r)=>{let s=t&&S(n,r)||r;b(n[s])&&b(i)?n[s]=e(n[s],i):b(i)?n[s]=e({},i):f(i)?n[s]=i.slice():n[s]=i};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],i);return n},extend:(e,t,n,{allOwnKeys:i}={})=>(T(t,(t,i)=>{n&&y(t)?e[i]=(0,a.default)(t,n):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,s,o;let a={};if(t=t||{},null==e)return t;do{for(s=(r=Object.getOwnPropertyNames(e)).length;s-- >0;)o=r[s],(!i||i(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==n&&u(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype)return t},kindOf:c,kindOfTest:h,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let i=e.indexOf(t,n);return -1!==i&&i===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!_(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n;let i=e&&e[Symbol.iterator],r=i.call(e);for(;(n=r.next())&&!n.done;){let i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let n;let i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:P,hasOwnProperty:O,hasOwnProp:O,reduceDescriptors:D,freezeMethods:e=>{D(e,(t,n)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;let i=e[n];if(y(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(e=>{e.forEach(e=>{n[e]=!0})})(f(e)?e:String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:S,global:N,isContextDefined:R,ALPHABET:F,generateString:(e=16,t=F.ALPHA_DIGIT)=>{let n="",{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),n=(e,i)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;let r=f(e)?[]:{};return T(e,(e,t)=>{let s=n(e,i+1);p(s)||(r[t]=s)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:B,isThenable:e=>e&&(v(e)||y(e))&&y(e.then)&&y(e.catch)}}),r.register("djt5d",function(t,n){e(t.exports,"default",function(){return i});function i(e,t){return function(){return e.apply(t,arguments)}}}),r.register("6zSb1",function(t,n){e(t.exports,"default",function(){return p});var i=r("2bBga"),s=r("2RNjJ"),o=r("5Dm7L"),a=r("eQ5d8"),l=r("d0EKm"),u=r("1ZTQa"),c=r("6zj0X"),h=r("gbTL1");let d=c.default.validators;class f{constructor(e){this.defaults=e,this.interceptors={request:new o.default,response:new o.default}}request(e,t){let n,r,s;"string"==typeof e?(t=t||{}).url=e:t=e||{},t=(0,l.default)(this.defaults,t);let{transitional:o,paramsSerializer:u,headers:f}=t;void 0!==o&&(0,c.default).assertOptions(o,{silentJSONParsing:d.transitional(d.boolean),forcedJSONParsing:d.transitional(d.boolean),clarifyTimeoutError:d.transitional(d.boolean)},!1),null!=u&&((0,i.default).isFunction(u)?t.paramsSerializer={serialize:u}:(0,c.default).assertOptions(u,{encode:d.function,serialize:d.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=f&&(0,i.default).merge(f.common,f[t.method]))&&(0,i.default).forEach(["delete","get","head","post","put","patch","common"],e=>{delete f[e]}),t.headers=(0,h.default).concat(n,f);let p=[],m=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(m=m&&e.synchronous,p.unshift(e.fulfilled,e.rejected))});let g=[];this.interceptors.response.forEach(function(e){g.push(e.fulfilled,e.rejected)});let y=0;if(!m){let e=[(0,a.default).bind(this),void 0];for(e.unshift.apply(e,p),e.push.apply(e,g),s=e.length,r=Promise.resolve(t);y<s;)r=r.then(e[y++],e[y++]);return r}s=p.length;let _=t;for(y=0;y<s;){let e=p[y++],t=p[y++];try{_=e(_)}catch(e){t.call(this,e);break}}try{r=(0,a.default).call(this,_)}catch(e){return Promise.reject(e)}for(y=0,s=g.length;y<s;)r=r.then(g[y++],g[y++]);return r}getUri(e){e=(0,l.default)(this.defaults,e);let t=(0,u.default)(e.baseURL,e.url);return(0,s.default)(t,e.params,e.paramsSerializer)}}(0,i.default).forEach(["delete","get","head","options"],function(e){f.prototype[e]=function(t,n){return this.request((0,l.default)(n||{},{method:e,url:t,data:(n||{}).data}))}}),(0,i.default).forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request((0,l.default)(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)});var p=f}),r.register("2RNjJ",function(t,n){e(t.exports,"default",function(){return a});var i=r("2bBga"),s=r("hz3Ym");function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function a(e,t,n){let r;if(!t)return e;let a=n&&n.encode||o,l=n&&n.serialize;if(r=l?l(t,n):(0,i.default).isURLSearchParams(t)?t.toString():new(0,s.default)(t,n).toString(a)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}}),r.register("hz3Ym",function(t,n){e(t.exports,"default",function(){return l});var i=r("aewVa");function s(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function o(e,t){this._pairs=[],e&&(0,i.default)(e,this,t)}let a=o.prototype;a.append=function(e,t){this._pairs.push([e,t])},a.toString=function(e){let t=e?function(t){return e.call(this,t,s)}:s;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var l=o}),r.register("aewVa",function(t,n){e(t.exports,"default",function(){return d});var i=r("2bBga"),s=r("121rJ"),o=r("1gvAv"),a=r("ihoyg").Buffer;function l(e){return(0,i.default).isPlainObject(e)||(0,i.default).isArray(e)}function u(e){return(0,i.default).endsWith(e,"[]")?e.slice(0,-2):e}function c(e,t,n){return e?e.concat(t).map(function(e,t){return e=u(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}let h=(0,i.default).toFlatObject(i.default,{},null,function(e){return/^is[A-Z]/.test(e)});var d=function(e,t,n){if(!(0,i.default).isObject(e))throw TypeError("target must be an object");t=t||new(o.default||FormData),n=(0,i.default).toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!(0,i.default).isUndefined(t[e])});let r=n.metaTokens,d=n.visitor||_,f=n.dots,p=n.indexes,m=n.Blob||"undefined"!=typeof Blob&&Blob,g=m&&(0,i.default).isSpecCompliantForm(t);if(!(0,i.default).isFunction(d))throw TypeError("visitor must be a function");function y(e){if(null===e)return"";if((0,i.default).isDate(e))return e.toISOString();if(!g&&(0,i.default).isBlob(e))throw new s.default("Blob is not supported. Use a Buffer instead.");return(0,i.default).isArrayBuffer(e)||(0,i.default).isTypedArray(e)?g&&"function"==typeof Blob?new Blob([e]):a.from(e):e}function _(e,n,s){let o=e;if(e&&!s&&"object"==typeof e){if((0,i.default).endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var a;if((0,i.default).isArray(e)&&(a=e,(0,i.default).isArray(a)&&!a.some(l))||((0,i.default).isFileList(e)||(0,i.default).endsWith(n,"[]"))&&(o=(0,i.default).toArray(e)))return n=u(n),o.forEach(function(e,r){(0,i.default).isUndefined(e)||null===e||t.append(!0===p?c([n],r,f):null===p?n:n+"[]",y(e))}),!1}}return!!l(e)||(t.append(c(s,n,f),y(e)),!1)}let v=[],b=Object.assign(h,{defaultVisitor:_,convertValue:y,isVisitable:l});if(!(0,i.default).isObject(e))throw TypeError("data must be an object");return function e(n,r){if(!(0,i.default).isUndefined(n)){if(-1!==v.indexOf(n))throw Error("Circular reference detected in "+r.join("."));v.push(n),(0,i.default).forEach(n,function(n,s){let o=!((0,i.default).isUndefined(n)||null===n)&&d.call(t,n,(0,i.default).isString(s)?s.trim():s,r,b);!0===o&&e(n,r?r.concat(s):[s])}),v.pop()}}(e),t}}),r.register("121rJ",function(t,n){e(t.exports,"default",function(){return l});var i=r("2bBga");function s(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}(0,i.default).inherits(s,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:(0,i.default).toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let o=s.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{a[e]={value:e}}),Object.defineProperties(s,a),Object.defineProperty(o,"isAxiosError",{value:!0}),s.from=(e,t,n,r,a,l)=>{let u=Object.create(o);return(0,i.default).toFlatObject(e,u,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),s.call(u,e.message,t,n,r,a),u.cause=e,u.name=e.name,l&&Object.assign(u,l),u};var l=s}),r.register("1gvAv",function(t,n){e(t.exports,"default",function(){return i});var i=null}),r.register("ihoyg",function(t,n){e(t.exports,"Buffer",function(){return i},function(e){return i=e}),e(t.exports,"INSPECT_MAX_BYTES",function(){return s},function(e){return s=e});var i,s,o=r("hqZtu"),a=r("5WQj6");let l="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function u(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return f(e)}return h(e,t,n)}function h(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!c.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|y(e,t),i=u(n),r=i.write(e,t);return r!==n&&(i=i.slice(0,r)),i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){let t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return m(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return c.from(i,t,n);let r=function(e){var t;if(c.isBuffer(e)){let t=0|g(e.length),n=u(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?u(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return d(e),u(e<0?0:0|g(e))}function p(e){let t=e.length<0?0:0|g(e.length),n=u(t);for(let i=0;i<t;i+=1)n[i]=255&e[i];return n}function m(e,t,n){let i;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(i=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),c.prototype),i}function g(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===n)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return i?-1:F(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);let r="";for(let i=t;i<n;++i)r+=z[e[i]];return r}(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return function(e,t,n){let i="";n=Math.min(e.length,n);for(let r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}(this,t,n);case"latin1":case"binary":return function(e,t,n){let i="";n=Math.min(e.length,n);for(let r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}(this,t,n);case"base64":var r,s;return r=t,s=n,0===r&&s===this.length?o.fromByteArray(this):o.fromByteArray(this.slice(r,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let i=e.slice(t,n),r="";for(let e=0;e<i.length-1;e+=2)r+=String.fromCharCode(i[e]+256*i[e+1]);return r}(this,t,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function v(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}function b(e,t,n,i,r){var s;if(0===e.length)return -1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(s=n=+n)!=s&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return -1;n=e.length-1}else if(n<0){if(!r)return -1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,i,r);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,i,r);throw TypeError("val must be string, number or Buffer")}function w(e,t,n,i,r){let s,o=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){let i=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===i?0:s-i)){if(-1===i&&(i=s),s-i+1===l)return i*o}else -1!==i&&(s-=s-i),i=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){let n=!0;for(let i=0;i<l;i++)if(u(e,s+i)!==u(t,i)){n=!1;break}if(n)return s}return -1}function I(e,t,n){n=Math.min(e.length,n);let i=[],r=t;for(;r<n;){let t=e[r],s=null,o=t>239?4:t>223?3:t>191?2:1;if(r+o<=n){let n,i,a,l;switch(o){case 1:t<128&&(s=t);break;case 2:(192&(n=e[r+1]))==128&&(l=(31&t)<<6|63&n)>127&&(s=l);break;case 3:n=e[r+1],i=e[r+2],(192&n)==128&&(192&i)==128&&(l=(15&t)<<12|(63&n)<<6|63&i)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:n=e[r+1],i=e[r+2],a=e[r+3],(192&n)==128&&(192&i)==128&&(192&a)==128&&(l=(15&t)<<18|(63&n)<<12|(63&i)<<6|63&a)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|1023&s),i.push(s),r+=o}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function E(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function k(e,t,n,i,r,s){if(!c.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw RangeError('"value" argument is out of bounds');if(n+i>e.length)throw RangeError("Index out of range")}function x(e,t,n,i,r){L(t,i,r,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function T(e,t,n,i,r){L(t,i,r,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function S(e,t,n,i,r,s){if(n+i>e.length||n<0)throw RangeError("Index out of range")}function N(e,t,n,i,r){return t=+t,n>>>=0,r||S(e,t,n,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,n,i,23,4),n+4}function R(e,t,n,i,r){return t=+t,n>>>=0,r||S(e,t,n,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,n,i,52,8),n+8}i=c,s=50,c.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return h(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return(d(e),e<=0)?u(e):void 0!==t?"string"==typeof n?u(e).fill(t,n):u(e).fill(t):u(e)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let r=0,s=Math.min(n,i);r<s;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){let t=e[n];if(q(t,Uint8Array))r+t.length>i.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(i,r)):Uint8Array.prototype.set.call(i,t,r);else if(c.isBuffer(t))t.copy(i,r);else throw TypeError('"list" argument must be an Array of Buffers');r+=t.length}return i},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?I(this,0,e):_.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="",t=s;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},l&&(c.prototype[l]=c.prototype.inspect),c.prototype.compare=function(e,t,n,i,r){if(q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;let s=r-i,o=n-t,a=Math.min(s,o),l=this.slice(i,r),u=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==u[e]){s=l[e],o=u[e];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){var r,s,o,a,l,u,c,h;if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let f=!1;for(;;)switch(i){case"hex":return function(e,t,n,i){let r;n=Number(n)||0;let s=e.length-n;i?(i=Number(i))>s&&(i=s):i=s;let o=t.length;for(i>o/2&&(i=o/2),r=0;r<i;++r){let i=parseInt(t.substr(2*r,2),16);if(i!=i)break;e[n+r]=i}return r}(this,e,t,n);case"utf8":case"utf-8":return r=t,s=n,j(F(e,this.length-r),this,r,s);case"ascii":case"latin1":case"binary":return o=t,a=n,j(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,o,a);case"base64":return l=t,u=n,j(B(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=n,j(function(e,t){let n,i;let r=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)i=(n=e.charCodeAt(s))>>8,r.push(n%256),r.push(i);return r}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let i=this[e],r=1,s=0;for(;++s<t&&(r*=256);)i+=this[e+s]*r;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let i=this[e+--t],r=1;for(;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||E(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||E(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=W(function(e){D(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&M(e,this.length-8);let i=t+256*this[++e]+65536*this[++e]+16777216*this[++e],r=this[++e]+256*this[++e]+65536*this[++e]+16777216*n;return BigInt(i)+(BigInt(r)<<BigInt(32))}),c.prototype.readBigUInt64BE=W(function(e){D(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&M(e,this.length-8);let i=16777216*t+65536*this[++e]+256*this[++e]+this[++e],r=16777216*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(i)<<BigInt(32))+BigInt(r)}),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let i=this[e],r=1,s=0;for(;++s<t&&(r*=256);)i+=this[e+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||E(e,t,this.length);let i=t,r=1,s=this[e+--i];for(;i>0&&(r*=256);)s+=this[e+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return(e>>>=0,t||E(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||E(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||E(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=W(function(e){D(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&M(e,this.length-8);let i=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),c.prototype.readBigInt64BE=W(function(e){D(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&M(e,this.length-8);let i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+n)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||E(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||E(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||E(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||E(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){let i=Math.pow(2,8*n)-1;k(this,e,t,n,i,0)}let r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){let i=Math.pow(2,8*n)-1;k(this,e,t,n,i,0)}let r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=W(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=W(function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}let r=0,s=1,o=0;for(this[t]=255&e;++r<n&&(s*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){let i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}let r=n-1,s=1,o=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=W(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=W(function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(!c.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(i<0)throw RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let r=i-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r},c.prototype.fill=function(e,t,n,i){let r;if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw TypeError("Unknown encoding: "+i);if(1===e.length){let t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{let s=c.isBuffer(e)?e:c.from(e,i),o=s.length;if(0===o)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=s[r%o]}return this};let A={};function P(e,t,n){A[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function O(e){let t="",n=e.length,i="-"===e[0]?1:0;for(;n>=i+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function L(e,t,n,i,r,s){if(e>n||e<t){let i;let r="bigint"==typeof t?"n":"";throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${(s+1)*8}${r}`:`>= -(2${r} ** ${(s+1)*8-1}${r}) and < 2 ** ${(s+1)*8-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new A.ERR_OUT_OF_RANGE("value",i,e)}D(r,"offset"),(void 0===i[r]||void 0===i[r+s])&&M(r,i.length-(s+1))}function D(e,t){if("number"!=typeof e)throw new A.ERR_INVALID_ARG_TYPE(t,"number",e)}function M(e,t,n){if(Math.floor(e)!==e)throw D(e,n),new A.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new A.ERR_BUFFER_OUT_OF_BOUNDS;throw new A.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}P("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),P("ERR_OUT_OF_RANGE",function(e,t,n){let i=`The value of "${e}" is out of range.`,r=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?r=O(String(n)):"bigint"==typeof n&&(r=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(r=O(r)),r+="n"),i+=` It must be ${t}. Received ${r}`},RangeError);let U=/[^+/0-9A-Za-z-_]/g;function F(e,t){let n;t=t||1/0;let i=e.length,r=null,s=[];for(let o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319||o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function B(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,i){let r;for(r=0;r<i&&!(r+n>=t.length)&&!(r>=e.length);++r)t[r+n]=e[r];return r}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let z=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let i=16*n;for(let r=0;r<16;++r)t[i+r]=e[n]+e[r]}return t}();function W(e){return"undefined"==typeof BigInt?H:e}function H(){throw Error("BigInt not supported")}}),r.register("hqZtu",function(t,n){e(t.exports,"toByteArray",function(){return i},function(e){return i=e}),e(t.exports,"fromByteArray",function(){return r},function(e){return r=e}),i=function(e){var t,n,i=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}(e),r=i[0],s=i[1],l=new a((r+s)*3/4-s),u=0,c=s>0?r-4:r;for(n=0;n<c;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},r=function(e){for(var t,n=e.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(function(e,t,n){for(var i,r=[],o=t;o<n;o+=3)r.push(s[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return r.join("")}(e,o,o+16383>a?a:o+16383));return 1===i?r.push(s[(t=e[n-1])>>2]+s[t<<4&63]+"=="):2===i&&r.push(s[(t=(e[n-2]<<8)+e[n-1])>>10]+s[t>>4&63]+s[t<<2&63]+"="),r.join("")};for(var i,r,s=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,c=l.length;u<c;++u)s[u]=l[u],o[l.charCodeAt(u)]=u;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63}),r.register("5WQj6",function(t,n){var i,r;e(t.exports,"read",function(){return i},function(e){return i=e}),e(t.exports,"write",function(){return r},function(e){return r=e}),i=function(e,t,n,i,r){var s,o,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o+=Math.pow(2,i),s-=u}return(f?-1:1)*o*Math.pow(2,s-i)},r=function(e,t,n,i,r,s){var o,a,l,u=8*s-r-1,c=(1<<u)-1,h=c>>1,d=23===r?5960464477539062e-23:0,f=i?0:s-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,r),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+f]=255&a,f+=p,a/=256,r-=8);for(o=o<<r|a,u+=r;u>0;e[n+f]=255&o,f+=p,o/=256,u-=8);e[n+f-p]|=128*m}}),r.register("5Dm7L",function(t,n){e(t.exports,"default",function(){return s});var i=r("2bBga"),s=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){(0,i.default).forEach(this.handlers,function(t){null!==t&&e(t)})}}}),r.register("eQ5d8",function(t,n){e(t.exports,"default",function(){return h});var i=r("bhEpd"),s=r("ksuZT"),o=r("hqlPG"),a=r("83xK9"),l=r("gbTL1"),u=r("enpjQ");function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a.default(null,e)}function h(e){c(e),e.headers=(0,l.default).from(e.headers),e.data=(0,i.default).call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);let t=(0,u.default).getAdapter(e.adapter||o.default.adapter);return t(e).then(function(t){return c(e),t.data=(0,i.default).call(e,e.transformResponse,t),t.headers=(0,l.default).from(t.headers),t},function(t){return!(0,s.default)(t)&&(c(e),t&&t.response&&(t.response.data=(0,i.default).call(e,e.transformResponse,t.response),t.response.headers=(0,l.default).from(t.response.headers))),Promise.reject(t)})}}),r.register("bhEpd",function(t,n){e(t.exports,"default",function(){return a});var i=r("2bBga"),s=r("hqlPG"),o=r("gbTL1");function a(e,t){let n=this||s.default,r=t||n,a=(0,o.default).from(r.headers),l=r.data;return(0,i.default).forEach(e,function(e){l=e.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}}),r.register("hqlPG",function(t,n){e(t.exports,"default",function(){return f});var i=r("2bBga"),s=r("121rJ"),o=r("2wfLM"),a=r("aewVa"),l=r("5tcKT"),u=r("hdo0R"),c=r("4bmvb");let h={"Content-Type":void 0},d={transitional:o.default,adapter:["xhr","http"],transformRequest:[function(e,t){let n;let r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=(0,i.default).isObject(e);o&&(0,i.default).isHTMLForm(e)&&(e=new FormData(e));let u=(0,i.default).isFormData(e);if(u)return s&&s?JSON.stringify((0,c.default)(e)):e;if((0,i.default).isArrayBuffer(e)||(0,i.default).isBuffer(e)||(0,i.default).isStream(e)||(0,i.default).isFile(e)||(0,i.default).isBlob(e))return e;if((0,i.default).isArrayBufferView(e))return e.buffer;if((0,i.default).isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return(0,l.default)(e,this.formSerializer).toString();if((n=(0,i.default).isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return(0,a.default)(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),function(e,t,n){if((0,i.default).isString(e))try{return(0,JSON.parse)(e),(0,i.default).trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||d.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&(0,i.default).isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw(0,s.default).from(e,s.default.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:u.default.classes.FormData,Blob:u.default.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};(0,i.default).forEach(["delete","get","head"],function(e){d.headers[e]={}}),(0,i.default).forEach(["post","put","patch"],function(e){d.headers[e]=(0,i.default).merge(h)});var f=d}),r.register("2wfLM",function(t,n){e(t.exports,"default",function(){return i});var i={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}}),r.register("5tcKT",function(t,n){e(t.exports,"default",function(){return a});var i=r("2bBga"),s=r("aewVa"),o=r("hdo0R");function a(e,t){return(0,s.default)(e,new o.default.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return o.default.isNode&&(0,i.default).isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}}),r.register("hdo0R",function(t,n){let i;e(t.exports,"default",function(){return c});var s=r("9matH"),o=r("eN04z"),a=r("2J1oD");let l=("undefined"==typeof navigator||"ReactNative"!==(i=navigator.product)&&"NativeScript"!==i&&"NS"!==i)&&"undefined"!=typeof window&&"undefined"!=typeof document,u="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var c={isBrowser:!0,classes:{URLSearchParams:s.default,FormData:o.default,Blob:a.default},isStandardBrowserEnv:l,isStandardBrowserWebWorkerEnv:u,protocols:["http","https","file","blob","url","data"]}}),r.register("9matH",function(t,n){e(t.exports,"default",function(){return s});var i=r("hz3Ym"),s="undefined"!=typeof URLSearchParams?URLSearchParams:i.default}),r.register("eN04z",function(t,n){e(t.exports,"default",function(){return i});var i="undefined"!=typeof FormData?FormData:null}),r.register("2J1oD",function(t,n){e(t.exports,"default",function(){return i});var i="undefined"!=typeof Blob?Blob:null}),r.register("4bmvb",function(t,n){e(t.exports,"default",function(){return s});var i=r("2bBga"),s=function(e){if((0,i.default).isFormData(e)&&(0,i.default).isFunction(e.entries)){let t={};return(0,i.default).forEachEntry(e,(e,n)=>{!function e(t,n,r,s){let o=t[s++],a=Number.isFinite(+o),l=s>=t.length;if(o=!o&&(0,i.default).isArray(r)?r.length:o,l)return(0,i.default).hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&(0,i.default).isObject(r[o])||(r[o]=[]);let u=e(t,n,r[o],s);return u&&(0,i.default).isArray(r[o])&&(r[o]=function(e){let t,n;let i={},r=Object.keys(e),s=r.length;for(t=0;t<s;t++)i[n=r[t]]=e[n];return i}(r[o])),!a}((0,i.default).matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null}}),r.register("gbTL1",function(t,n){e(t.exports,"default",function(){return d});var i=r("2bBga"),s=r("9cPEm");let o=Symbol("internals");function a(e){return e&&String(e).trim().toLowerCase()}function l(e){return!1===e||null==e?e:(0,i.default).isArray(e)?e.map(l):String(e)}let u=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function c(e,t,n,r,s){if((0,i.default).isFunction(r))return r.call(this,t,n);if(s&&(t=n),(0,i.default).isString(t)){if((0,i.default).isString(r))return -1!==t.indexOf(r);if((0,i.default).isRegExp(r))return r.test(t)}}class h{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function o(e,t,n){let s=a(t);if(!s)throw Error("header name must be a non-empty string");let o=(0,i.default).findKey(r,s);o&&void 0!==r[o]&&!0!==n&&(void 0!==n||!1===r[o])||(r[o||t]=l(e))}let c=(e,t)=>(0,i.default).forEach(e,(e,n)=>o(e,n,t));return(0,i.default).isPlainObject(e)||e instanceof this.constructor?c(e,t):(0,i.default).isString(e)&&(e=e.trim())&&!u(e)?c((0,s.default)(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=a(e)){let n=(0,i.default).findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t)return function(e){let t;let n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=i.exec(e);)n[t[1]]=t[2];return n}(e);if((0,i.default).isFunction(t))return t.call(this,e,n);if((0,i.default).isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=a(e)){let n=(0,i.default).findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||c(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function s(e){if(e=a(e)){let s=(0,i.default).findKey(n,e);s&&(!t||c(n,n[s],s,t))&&(delete n[s],r=!0)}}return(0,i.default).isArray(e)?e.forEach(s):s(e),r}clear(e){let t=Object.keys(this),n=t.length,i=!1;for(;n--;){let r=t[n];(!e||c(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){let t=this,n={};return(0,i.default).forEach(this,(r,s)=>{let o=(0,i.default).findKey(n,s);if(o){t[o]=l(r),delete t[s];return}let a=e?s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(s).trim();a!==s&&delete t[s],t[a]=l(r),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return(0,i.default).forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&(0,i.default).isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){let t=this[o]=this[o]={accessors:{}},n=t.accessors,r=this.prototype;function s(e){let t=a(e);n[t]||(function(e,t){let n=(0,i.default).toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(r,e),n[t]=!0)}return(0,i.default).isArray(e)?e.forEach(s):s(e),this}}h.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),(0,i.default).freezeMethods(h.prototype),(0,i.default).freezeMethods(h);var d=h}),r.register("9cPEm",function(t,n){e(t.exports,"default",function(){return o});var i=r("2bBga");let s=(0,i.default).toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var o=e=>{let t,n,i;let r={};return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||r[t]&&s[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)}),r}}),r.register("ksuZT",function(t,n){e(t.exports,"default",function(){return i});function i(e){return!!(e&&e.__CANCEL__)}}),r.register("83xK9",function(t,n){e(t.exports,"default",function(){return o});var i=r("121rJ");function s(e,t,n){(0,i.default).call(this,null==e?"canceled":e,i.default.ERR_CANCELED,t,n),this.name="CanceledError"}(0,r("2bBga").default).inherits(s,i.default,{__CANCEL__:!0});var o=s}),r.register("enpjQ",function(t,n){e(t.exports,"default",function(){return u});var i=r("2bBga"),s=r("1gvAv"),o=r("9VVcb"),a=r("121rJ");let l={http:s.default,xhr:o.default};(0,i.default).forEach(l,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});var u={getAdapter:e=>{let t,n;e=(0,i.default).isArray(e)?e:[e];let{length:r}=e;for(let s=0;s<r&&(t=e[s],!(n=(0,i.default).isString(t)?l[t.toLowerCase()]:t));s++);if(!n){if(!1===n)throw new a.default(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT");throw Error((0,i.default).hasOwnProp(l,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`)}if(!(0,i.default).isFunction(n))throw TypeError("adapter is not a function");return n},adapters:l}}),r.register("9VVcb",function(t,n){e(t.exports,"default",function(){return v});var i=r("2bBga"),s=r("1TQad"),o=r("kTwUV"),a=r("2RNjJ"),l=r("1ZTQa"),u=r("g3yOT"),c=r("2wfLM"),h=r("121rJ"),d=r("83xK9"),f=r("8wMQb"),p=r("hdo0R"),m=r("gbTL1"),g=r("5OiBb");function y(e,t){let n=0,i=(0,g.default)(50,250);return r=>{let s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,l=i(a),u=s<=o;n=s;let c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}let _="undefined"!=typeof XMLHttpRequest;var v=_&&function(e){return new Promise(function(t,n){let r,g=e.data,_=(0,m.default).from(e.headers).normalize(),v=e.responseType;function b(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}(0,i.default).isFormData(g)&&(p.default.isStandardBrowserEnv||p.default.isStandardBrowserWebWorkerEnv?_.setContentType(!1):_.setContentType("multipart/form-data;",!1));let w=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";_.set("Authorization","Basic "+btoa(t+":"+n))}let I=(0,l.default)(e.baseURL,e.url);function E(){if(!w)return;let i=(0,m.default).from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),r=v&&"text"!==v&&"json"!==v?w.response:w.responseText,o={data:r,status:w.status,statusText:w.statusText,headers:i,config:e,request:w};(0,s.default)(function(e){t(e),b()},function(e){n(e),b()},o),w=null}if(w.open(e.method.toUpperCase(),(0,a.default)(I,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=E:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(E)},w.onabort=function(){w&&(n(new h.default("Request aborted",h.default.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new h.default("Network Error",h.default.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||c.default;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h.default(t,i.clarifyTimeoutError?h.default.ETIMEDOUT:h.default.ECONNABORTED,e,w)),w=null},p.default.isStandardBrowserEnv){let t=(e.withCredentials||(0,u.default)(I))&&e.xsrfCookieName&&(0,o.default).read(e.xsrfCookieName);t&&_.set(e.xsrfHeaderName,t)}void 0===g&&_.setContentType(null),"setRequestHeader"in w&&(0,i.default).forEach(_.toJSON(),function(e,t){w.setRequestHeader(t,e)}),(0,i.default).isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),v&&"json"!==v&&(w.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&w.addEventListener("progress",y(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",y(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=t=>{w&&(n(!t||t.type?new d.default(null,e,w):t),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));let k=(0,f.default)(I);if(k&&-1===(0,p.default).protocols.indexOf(k)){n(new h.default("Unsupported protocol "+k+":",h.default.ERR_BAD_REQUEST,e));return}w.send(g||null)})}}),r.register("1TQad",function(t,n){e(t.exports,"default",function(){return s});var i=r("121rJ");function s(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new i.default("Request failed with status code "+n.status,[i.default.ERR_BAD_REQUEST,i.default.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}}),r.register("kTwUV",function(t,n){e(t.exports,"default",function(){return s});var i=r("2bBga"),s=r("hdo0R").default.isStandardBrowserEnv?{write:function(e,t,n,r,s,o){let a=[];a.push(e+"="+encodeURIComponent(t)),(0,i.default).isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),(0,i.default).isString(r)&&a.push("path="+r),(0,i.default).isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}),r.register("1ZTQa",function(t,n){e(t.exports,"default",function(){return o});var i=r("iUwU6"),s=r("91vFE");function o(e,t){return e&&!(0,i.default)(t)?(0,s.default)(e,t):t}}),r.register("iUwU6",function(t,n){e(t.exports,"default",function(){return i});function i(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}}),r.register("91vFE",function(t,n){e(t.exports,"default",function(){return i});function i(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}),r.register("g3yOT",function(t,n){e(t.exports,"default",function(){return s});var i=r("2bBga"),s=r("hdo0R").default.isStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){let i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){let n=(0,i.default).isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}}),r.register("8wMQb",function(t,n){e(t.exports,"default",function(){return i});function i(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}}),r.register("5OiBb",function(t,n){e(t.exports,"default",function(){return i});var i=function(e,t){let n;e=e||10;let i=Array(e),r=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),u=r[o];n||(n=l),i[s]=a,r[s]=l;let c=o,h=0;for(;c!==s;)h+=i[c++],c%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),l-n<t)return;let d=u&&l-u;return d?Math.round(1e3*h/d):void 0}}}),r.register("d0EKm",function(t,n){e(t.exports,"default",function(){return a});var i=r("2bBga"),s=r("gbTL1");let o=e=>e instanceof s.default?e.toJSON():e;function a(e,t){t=t||{};let n={};function r(e,t,n){return(0,i.default).isPlainObject(e)&&(0,i.default).isPlainObject(t)?(0,i.default).merge.call({caseless:n},e,t):(0,i.default).isPlainObject(t)?(0,i.default).merge({},t):(0,i.default).isArray(t)?t.slice():t}function s(e,t,n){return(0,i.default).isUndefined(t)?(0,i.default).isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!(0,i.default).isUndefined(t))return r(void 0,t)}function l(e,t){return(0,i.default).isUndefined(t)?(0,i.default).isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}let c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(e,t)=>s(o(e),o(t),!0)};return(0,i.default).forEach(Object.keys(Object.assign({},e,t)),function(r){let o=c[r]||s,a=o(e[r],t[r],r);(0,i.default).isUndefined(a)&&o!==u||(n[r]=a)}),n}}),r.register("6zj0X",function(t,n){e(t.exports,"default",function(){return l});var i=r("50GW0"),s=r("121rJ");let o={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let a={};o.transitional=function(e,t,n){function r(e,t){return"[Axios v"+i.VERSION+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new s.default(r(i," has been removed"+(t?" in "+t:"")),s.default.ERR_DEPRECATED);return t&&!a[i]&&(a[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var l={assertOptions:function(e,t,n){if("object"!=typeof e)throw new s.default("options must be an object",s.default.ERR_BAD_OPTION_VALUE);let i=Object.keys(e),r=i.length;for(;r-- >0;){let o=i[r],a=t[o];if(a){let t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new s.default("option "+o+" must be "+n,s.default.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new s.default("Unknown option "+o,s.default.ERR_BAD_OPTION)}},validators:o}}),r.register("50GW0",function(t,n){e(t.exports,"VERSION",function(){return i});let i="1.4.0"}),r.register("2sjhC",function(t,n){e(t.exports,"default",function(){return o});var i=r("83xK9");class s{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;let i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,r,s){n.reason||(n.reason=new i.default(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;let t=new s(function(t){e=t});return{token:t,cancel:e}}}var o=s}),r.register("av9gA",function(t,n){e(t.exports,"default",function(){return i});function i(e){return function(t){return e.apply(null,t)}}}),r.register("gNhGc",function(t,n){e(t.exports,"default",function(){return s});var i=r("2bBga");function s(e){return(0,i.default).isObject(e)&&!0===e.isAxiosError}}),r.register("jd7iQ",function(t,n){e(t.exports,"default",function(){return r});let i={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(i).forEach(([e,t])=>{i[t]=e});var r=i}),r.register("iQIUW",function(e,n){var i,r;i=void 0!==t?t:"undefined"!=typeof window?window:e.exports,r=function(e){if(void 0===e&&void 0===e.document)return!1;var t,n={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},i={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},r=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+"\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation")},s=function(t){return t||(t="head"),null!==e.document[t]||(r('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},o=function(t,n){if(!s("head"))return!1;if(null!==t()&&!e.document.getElementById(n)){var i=e.document.createElement("style");i.id=n,i.innerHTML=t(),e.document.head.appendChild(i)}},a=function(){var e={},t=!1,n=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<arguments.length;n++)!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=a(e[i],n[i]):e[i]=n[i])}(arguments[n]);return e},l=function(t){var n=e.document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""},u=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},c=0,h=function(r,o,u,h){if(!s("body"))return!1;t||d.Notify.init({});var f=a(!0,t,{});if("object"==typeof u&&!Array.isArray(u)||"object"==typeof h&&!Array.isArray(h)){var p={};"object"==typeof u?p=u:"object"==typeof h&&(p=h),t=a(!0,t,p)}var m=t[r.toLocaleLowerCase("en")];c++,"string"!=typeof o&&(o="Notiflix "+r),t.plainText&&(o=l(o)),!t.plainText&&o.length>t.messageMaxLength&&(t=a(!0,t,{closeButton:!0,messageMaxLength:150}),o='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),o.length>t.messageMaxLength&&(o=o.substring(0,t.messageMaxLength)+"..."),"shadow"===t.fontAwesomeIconStyle&&(m.fontAwesomeIconColor=m.background),t.cssAnimation||(t.cssAnimationDuration=0);var g=e.document.getElementById(i.wrapID)||e.document.createElement("div");if(g.id=i.wrapID,g.style.width=t.width,g.style.zIndex=t.zindex,g.style.opacity=t.opacity,"center-center"===t.position?(g.style.left=t.distance,g.style.top=t.distance,g.style.right=t.distance,g.style.bottom=t.distance,g.style.margin="auto",g.classList.add("nx-flex-center-center"),g.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",g.style.display="flex",g.style.flexWrap="wrap",g.style.flexDirection="column",g.style.justifyContent="center",g.style.alignItems="center",g.style.pointerEvents="none"):"center-top"===t.position?(g.style.left=t.distance,g.style.right=t.distance,g.style.top=t.distance,g.style.bottom="auto",g.style.margin="auto"):"center-bottom"===t.position?(g.style.left=t.distance,g.style.right=t.distance,g.style.bottom=t.distance,g.style.top="auto",g.style.margin="auto"):"right-bottom"===t.position?(g.style.right=t.distance,g.style.bottom=t.distance,g.style.top="auto",g.style.left="auto"):"left-top"===t.position?(g.style.left=t.distance,g.style.top=t.distance,g.style.right="auto",g.style.bottom="auto"):"left-bottom"===t.position?(g.style.left=t.distance,g.style.bottom=t.distance,g.style.top="auto",g.style.right="auto"):(g.style.right=t.distance,g.style.top=t.distance,g.style.left="auto",g.style.bottom="auto"),t.backOverlay){var y=e.document.getElementById(i.overlayID)||e.document.createElement("div");y.id=i.overlayID,y.style.width="100%",y.style.height="100%",y.style.position="fixed",y.style.zIndex=t.zindex-1,y.style.left=0,y.style.top=0,y.style.right=0,y.style.bottom=0,y.style.background=m.backOverlayColor||t.backOverlayColor,y.className=t.cssAnimation?"nx-with-animation":"",y.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(i.overlayID)||e.document.body.appendChild(y)}e.document.getElementById(i.wrapID)||e.document.body.appendChild(g);var _=e.document.createElement("div");_.id=t.ID+"-"+c,_.className=t.className+" "+m.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&"function"!=typeof u?"nx-with-close-button":"")+" "+("function"==typeof u?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),_.style.fontSize=t.fontSize,_.style.color=m.textColor,_.style.background=m.background,_.style.borderRadius=t.borderRadius,_.style.pointerEvents="all",t.rtl&&(_.setAttribute("dir","rtl"),_.classList.add("nx-rtl-on")),_.style.fontFamily='"'+t.fontFamily+'", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',t.cssAnimation&&(_.style.animationDuration=t.cssAnimationDuration+"ms");var v="";if(t.closeButton&&"function"!=typeof u&&(v='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+m.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),t.useIcon){if(t.useFontAwesome)_.innerHTML='<i style="color:'+m.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+m.fontAwesomeClassName+" "+("shadow"===t.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+o+"</span>"+(t.closeButton?v:"");else{var b="";r===n.Success?b='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':r===n.Failure?b='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':r===n.Warning?b='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':r===n.Info&&(b='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+m.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),_.innerHTML=b+'<span class="nx-message nx-with-icon">'+o+"</span>"+(t.closeButton?v:"")}}else _.innerHTML='<span class="nx-message">'+o+"</span>"+(t.closeButton?v:"");if("left-bottom"===t.position||"right-bottom"===t.position){var w=e.document.getElementById(i.wrapID);w.insertBefore(_,w.firstChild)}else e.document.getElementById(i.wrapID).appendChild(_);var I=e.document.getElementById(_.id);if(I){var E,k,x=function(){I.classList.add("nx-remove");var t=e.document.getElementById(i.overlayID);t&&g.childElementCount<=0&&t.classList.add("nx-remove"),clearTimeout(E)},T=function(){if(I&&null!==I.parentNode&&I.parentNode.removeChild(I),g.childElementCount<=0&&null!==g.parentNode){g.parentNode.removeChild(g);var t=e.document.getElementById(i.overlayID);t&&null!==t.parentNode&&t.parentNode.removeChild(t)}clearTimeout(k)};if(t.closeButton&&"function"!=typeof u&&e.document.getElementById(_.id).querySelector("span.nx-close-button").addEventListener("click",function(){x();var e=setTimeout(function(){T(),clearTimeout(e)},t.cssAnimationDuration)}),("function"==typeof u||t.clickToClose)&&I.addEventListener("click",function(){"function"==typeof u&&u(),x();var e=setTimeout(function(){T(),clearTimeout(e)},t.cssAnimationDuration)}),!t.closeButton&&"function"!=typeof u){var S=function(){E=setTimeout(function(){x()},t.timeout),k=setTimeout(function(){T()},t.timeout+t.cssAnimationDuration)};S(),t.pauseOnHover&&(I.addEventListener("mouseenter",function(){I.classList.add("nx-paused"),clearTimeout(E),clearTimeout(k)}),I.addEventListener("mouseleave",function(){I.classList.remove("nx-paused"),S()}))}}if(t.showOnlyTheLastOne&&c>0)for(var N=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+c+"])"),R=0;R<N.length;R++){var A=N[R];null!==A.parentNode&&A.parentNode.removeChild(A)}t=a(!0,t,f)},d={Notify:{init:function(e){t=a(!0,i,e),o(u,"NotiflixNotifyInternalCSS")},merge:function(e){if(!t)return r("You have to initialize the Notify module before call Merge function."),!1;t=a(!0,t,e)},success:function(e,t,i){h(n.Success,e,t,i)},failure:function(e,t,i){h(n.Failure,e,t,i)},warning:function(e,t,i){h(n.Warning,e,t,i)},info:function(e,t,i){h(n.Info,e,t,i)}}};return"object"==typeof e.Notiflix?a(!0,e.Notiflix,{Notify:d.Notify}):{Notify:d.Notify}},"function"==typeof define&&define.amd?define([],function(){return r(i)}):"object"==typeof e.exports?e.exports=r(i):i.Notiflix=r(i)}),r.register("jAzyG",function(t,n){e(t.exports,"child",function(){return r("8NPS8").child}),e(t.exports,"get",function(){return r("8NPS8").get}),e(t.exports,"getDatabase",function(){return r("8NPS8").getDatabase}),e(t.exports,"onValue",function(){return r("8NPS8").onValue}),e(t.exports,"push",function(){return r("8NPS8").push}),e(t.exports,"ref",function(){return r("8NPS8").ref}),e(t.exports,"remove",function(){return r("8NPS8").remove}),e(t.exports,"set",function(){return r("8NPS8").set}),r("8NPS8")}),r.register("8NPS8",function(t,n){let i,s,o,a,l,u,c,h,d,f,p;e(t.exports,"child",function(){return iS}),e(t.exports,"ref",function(){return iT}),e(t.exports,"push",function(){return iN}),e(t.exports,"set",function(){return iA}),e(t.exports,"remove",function(){return iR}),e(t.exports,"get",function(){return iP}),e(t.exports,"onValue",function(){return iD}),e(t.exports,"getDatabase",function(){return iF});var m,g,y=r("ix4Jr"),_=r("4a6xH"),v=r("ffjl9"),b=r("7vF8m"),w=r("4TNnu");let I="@firebase/database",E="1.0.1",k="";class x{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,v.stringify)(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,v.jsonEval)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class T{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,v.contains)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}let S=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new x(t)}}catch(e){}return new T},N=S("localStorage"),R=S("sessionStorage"),A=new b.Logger("@firebase/database"),P=(p=1,function(){return p++}),O=function(e){let t=(0,v.stringToByteArray)(e),n=new v.Sha1;n.update(t);let i=n.digest();return(0,v.base64).encodeByteArray(i)},L=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=L.apply(null,i):"object"==typeof i?t+=(0,v.stringify)(i):t+=i,t+=" "}return t},D=null,M=!0,U=function(e,t){(0,v.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(A.logLevel=b.LogLevel.VERBOSE,D=A.log.bind(A),t&&R.set("logging_enabled",!0)):"function"==typeof e?D=e:(D=null,R.remove("logging_enabled"))},F=function(...e){if(!0===M&&(M=!1,null===D&&!0===R.get("logging_enabled")&&U(!0)),D){let t=L.apply(null,e);D(t)}},B=function(e){return function(...t){F(e,...t)}},j=function(...e){let t="FIREBASE INTERNAL ERROR: "+L(...e);A.error(t)},q=function(...e){let t=`FIREBASE FATAL ERROR: ${L(...e)}`;throw A.error(t),Error(t)},z=function(...e){let t="FIREBASE WARNING: "+L(...e);A.warn(t)},W=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&z("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},H=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},V=function(e){if((0,v.isNodeSdk)()||"complete"===document.readyState)e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},$="[MIN_NAME]",K="[MAX_NAME]",G=function(e,t){if(e===t)return 0;{if(e===$||t===K)return -1;if(t===$||e===K)return 1;let n=en(e),i=en(t);return null!==n?null!==i?n-i==0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},J=function(e,t){return e===t?0:e<t?-1:1},Y=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+(0,v.stringify)(t))},Q=function(e){if("object"!=typeof e||null===e)return(0,v.stringify)(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=(0,v.stringify)(t[i])+":"+Q(e[t[i]]);return n+"}"},X=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Z(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}let ee=function(e){let t,n,i,r,s;(0,v.assert)(!H(e),"Invalid JSON number"),0===e?(n=0,i=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,i=Math.round(e*Math.pow(2,52-r)-4503599627370496)):(n=0,i=Math.round(e/5e-324)));let o=[];for(s=52;s;s-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();let a=o.join(""),l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},et=RegExp("^-?(0*)\\d{1,10}$"),en=function(e){if(et.test(e)){let t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ei=function(e){try{e()}catch(e){setTimeout(()=>{let t=e.stack||"";throw z("Exception was thrown by user callback.",t),e},Math.floor(0))}},er=function(){let e="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},es=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class eo{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){z(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ea{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(F("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',z(e)}}class el{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}el.OWNER="owner";let eu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ec="websocket",eh="long_polling";class ed{constructor(e,t,n,i,r=!1,s="",o=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=N.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&N.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function ef(e,t,n){let i;if((0,v.assert)("string"==typeof t,"typeof type must == string"),(0,v.assert)("object"==typeof n,"typeof params must == object"),t===ec)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===eh)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let r=[];return Z(n,(e,t)=>{r.push(e+"="+t)}),i+r.join("&")}class ep{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,v.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,v.deepCopy)(this.counters_)}}let em={},eg={};function ey(e){let t=e.toString();return em[t]||(em[t]=new ep),em[t]}class e_{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ei(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}let ev="start";class eb{constructor(e,t,n,i,r,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=B(e),this.stats_=ey(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),ef(t,eh,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new e_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),V(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ew((...e)=>{let[t,n,i,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ev)this.id=n,this.password=i;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)}},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[ev]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&eu.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){eb.forceAllow_=!0}static forceDisallow(){eb.forceDisallow_=!0}static isAvailable(){return!(0,v.isNodeSdk)()&&(!!eb.forceAllow_||!eb.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=(0,v.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=(0,v.base64Encode)(t),i=X(n,1840);for(let e=0;e<i.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,v.isNodeSdk)())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=(0,v.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ew{constructor(e,t,n,i){if(this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,v.isNodeSdk)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=P(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ew.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){let e=document.domain;n='<script>document.domain="'+e+'";</script>'}let i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){F("frame writing exception"),e.stack&&F(e.stack),F(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{let t=e.contentWindow.document;t||F("No IE domain setting required")}catch(n){let t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){let e=this.pendingSegs[0];if(e.d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}else break}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){(0,v.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{F("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let eI=null;"undefined"!=typeof MozWebSocket?eI=MozWebSocket:"undefined"!=typeof WebSocket&&(eI=WebSocket);class eE{constructor(e,t,n,i,r,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=B(this.connId),this.stats_=ey(t),this.connURL=eE.connectionURL_(t,s,o,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){let s={};return s.v="5",!(0,v.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&eu.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s.ac=i),r&&(s.p=r),ef(e,ec,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,N.set("previous_websocket_failure",!0);try{let e;if((0,v.isNodeSdk)()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${k}/${w.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n={},i=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;i&&(e.proxy={origin:i})}this.mySock=new eI(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){eE.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==eI&&!eE.forceDisallow_}static previouslyFailed(){return N.isInMemoryStorage||!0===N.get("previous_websocket_failure")}markConnectionHealthy(){N.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=(0,v.jsonEval)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,v.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=(0,v.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=X(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eE.responsesRequiredToBeHealthy=2,eE.healthyTimeout=3e4;class ek{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[eb,eE]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){let t=eE&&eE.isAvailable(),n=t&&!eE.previouslyFailed();if(e.webSocketOnly&&(t||z("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[eE];else{let e=this.transports_=[];for(let t of ek.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);ek.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ek.globalTransportInitialized_=!1;class eC{constructor(e,t,n,i,r,s,o,a,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=B("c:"+this.id+":"),this.transportManager_=new ek(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=es(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Y("t",e),n=Y("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Y("t",e),n=Y("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Y("t",e);if("d"in e){let n=e.d;if("h"===t){let e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?j("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&z("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),es(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):es(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(N.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ex{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class eT{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,v.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let e=0;e<i.length;e++)if(i[e].callback===t&&(!n||n===i[e].context)){i.splice(e,1);return}}validateEventType_(e){(0,v.assert)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class eS extends eT{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,v.isMobileCordova)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new eS}getInitialEvent(e){return(0,v.assert)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class eN{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function eR(){return new eN("")}function eA(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function eP(e){return e.pieces_.length-e.pieceNum_}function eO(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new eN(e.pieces_,t)}function eL(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eD(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function eM(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new eN(t,0)}function eU(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof eN)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new eN(n,0)}function eF(e){return e.pieceNum_>=e.pieces_.length}function eB(e,t){let n=eA(e),i=eA(t);if(null===n)return t;if(n===i)return eB(eO(e),eO(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ej(e,t){if(eP(e)!==eP(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function eq(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(eP(e)>eP(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class ez{constructor(e,t){this.errorPrefix_=t,this.parts_=eD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=(0,v.stringLength)(this.parts_[e]);eW(this)}}function eW(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+eH(e))}function eH(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class eV extends eT{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new eV}getInitialEvent(e){return(0,v.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]}}class e$ extends ex{constructor(e,t,n,i,r,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=e$.nextPersistentConnectionId_++,this.log_=B("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!(0,v.isNodeSdk)())throw Error("Auth override specified in options, but not supported on non Node.js platforms");eV.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&eS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_((0,v.stringify)(r)),(0,v.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();let t=new v.Deferred,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();let r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),(0,v.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,v.assert)(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");let o={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,o),this.connected_&&this.sendListen_(o)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);let r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,r=>{let s=r.d,o=r.s;e$.warnOnListenWarnings_(s,t);let a=this.listens.get(n)&&this.listens.get(n).get(i);a===e&&(this.log_("listen response",r),"ok"!==o&&this.removeListen_(n,i),e.onComplete&&e.onComplete(o,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,v.contains)(e,"w")){let n=(0,v.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();z(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){let t=e&&40===e.length;(t||(0,v.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=(0,v.isValidFormat)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),(0,v.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");let r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);let r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){let r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();let s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;let o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{let t=e.s;if("ok"!==t){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,v.stringify)(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):j("Unrecognized action received from server: "+(0,v.stringify)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,v.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){let e=new Date().getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();let e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e$.nextConnectionId_++,r=this.lastSessionId,s=!1,o=null,a=function(){o?o.close():(s=!0,n())};this.realtime_={close:a,sendRequest:function(e){(0,v.assert)(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[a,u]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?F("getToken() completed but was canceled"):(F("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=u&&u.token,o=new eC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{z(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},r))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&z(e),a())}}}interrupt(e){F("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){F("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,v.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>Q(e)).join("$"):"default";let i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){let n;let i=new eN(e).toString();if(this.listens.has(i)){let e=this.listens.get(i);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(i)}else n=void 0;return n}onAuthRevoked_(e,t){F("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){F("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";(0,v.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+k.replace(/\./g,"-")]=1,(0,v.isMobileCordova)()?e["framework.cordova"]=1:(0,v.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=eS.getInstance().currentlyOnline();return(0,v.isEmpty)(this.interruptReasons_)&&e}}e$.nextPersistentConnectionId_=0,e$.nextConnectionId_=0;class eK{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new eK(e,t)}}class eG{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new eK($,e),i=new eK($,t);return 0!==this.compare(n,i)}minPost(){return eK.MIN}}class eJ extends eG{static get __EMPTY_NODE(){return i}static set __EMPTY_NODE(e){i=e}compare(e,t){return G(e.name,t.name)}isDefinedOn(e){throw(0,v.assertionError)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return eK.MIN}maxPost(){return new eK(K,i)}makePost(e,t){return(0,v.assert)("string"==typeof e,"KeyIndex indexValue must always be a string."),new eK(e,i)}toString(){return".key"}}let eY=new eJ;class eQ{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else if(0===s){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class eX{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:eX.RED,this.left=null!=i?i:eZ.EMPTY_NODE,this.right=null!=r?r:eZ.EMPTY_NODE}copy(e,t,n,i,r){return new eX(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this,r=n(e,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return eZ.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,i;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return eZ.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,eX.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,eX.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")}}eX.RED=!0,eX.BLACK=!1;class eZ{constructor(e,t=eZ.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new eZ(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,eX.BLACK,null,null))}remove(e){return new eZ(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,eX.BLACK,null,null))}get(e){let t;let n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(i)return i.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new eQ(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new eQ(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new eQ(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new eQ(this.root_,null,this.comparator_,!0,e)}}function e0(e,t){return G(e.name,t.name)}function e1(e,t){return G(e,t)}eZ.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new eX(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};let e2=function(e){return"number"==typeof e?"number:"+ee(e):"string:"+e},e3=function(e){if(e.isLeafNode()){let t=e.val();(0,v.assert)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,v.contains)(t,".sv"),"Priority must be a string or number.")}else(0,v.assert)(e===s||e.isEmpty(),"priority of unexpected type.");(0,v.assert)(e===s||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class e5{constructor(e,t=e5.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,(0,v.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),e3(this.priorityNode_)}static set __childrenNodeConstructor(e){o=e}static get __childrenNodeConstructor(){return o}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new e5(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:e5.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return eF(e)?this:".priority"===eA(e)?this.priorityNode_:e5.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:e5.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=eA(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:((0,v.assert)(".priority"!==n||1===eP(e),".priority must be the last token in a path"),this.updateImmediateChild(n,e5.__childrenNodeConstructor.EMPTY_NODE.updateChild(eO(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+e2(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=ee(this.value_):e+=this.value_,this.lazyHash_=O(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===e5.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof e5.__childrenNodeConstructor?-1:((0,v.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,i=e5.VALUE_TYPE_ORDER.indexOf(t),r=e5.VALUE_TYPE_ORDER.indexOf(n);return((0,v.assert)(i>=0,"Unknown leaf type: "+t),(0,v.assert)(r>=0,"Unknown leaf type: "+n),i!==r)?r-i:"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}e5.VALUE_TYPE_ORDER=["object","boolean","number","string"];let e4=new class extends eG{compare(e,t){let n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?G(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return eK.MIN}maxPost(){return new eK(K,new e5("[PRIORITY-POST]",l))}makePost(e,t){let n=a(e);return new eK(t,new e5("[PRIORITY-POST]",n))}toString(){return".priority"}},e8=Math.log(2);class e6{constructor(e){this.count=parseInt(Math.log(e+1)/e8,10),this.current_=this.count-1;let t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}let e9=function(e,t,n,i){e.sort(t);let r=function(t,i){let s,o;let a=i-t;if(0===a)return null;if(1===a)return s=e[t],o=n?n(s):s,new eX(o,s.node,eX.BLACK,null,null);{let l=parseInt(a/2,10)+t,u=r(t,l),c=r(l+1,i);return s=e[l],o=n?n(s):s,new eX(o,s.node,eX.BLACK,u,c)}},s=new e6(e.length),o=function(t){let i=null,s=null,o=e.length,a=function(t,i){let s=o-t,a=o;o-=t;let u=r(s+1,a),c=e[s],h=n?n(c):c;l(new eX(h,c.node,i,null,u))},l=function(e){i?i.left=e:s=e,i=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?a(i,eX.BLACK):(a(i,eX.BLACK),a(i,eX.RED))}return s}(s);return new eZ(i||t,o)},e7={};class te{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,v.assert)(e7&&e4,"ChildrenNode.ts has not been loaded"),u=u||new te({".priority":e7},{".priority":e4})}get(e){let t=(0,v.safeGet)(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof eZ?t:null}hasIndex(e){return(0,v.contains)(this.indexSet_,e.toString())}addIndex(e,t){let n;(0,v.assert)(e!==eY,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=t.getIterator(eK.Wrap),o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();n=r?e9(i,e.getCompare()):e7;let a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;let u=Object.assign({},this.indexes_);return u[a]=n,new te(u,l)}addToIndexes(e,t){let n=(0,v.map)(this.indexes_,(n,i)=>{let r=(0,v.safeGet)(this.indexSet_,i);if((0,v.assert)(r,"Missing index implementation for "+i),n===e7){if(!r.isDefinedOn(e.node))return e7;{let n=[],i=t.getIterator(eK.Wrap),s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),e9(n,r.getCompare())}}{let i=t.get(e.name),r=n;return i&&(r=r.remove(new eK(e.name,i))),r.insert(e,e.node)}});return new te(n,this.indexSet_)}removeFromIndexes(e,t){let n=(0,v.map)(this.indexes_,n=>{if(n===e7)return n;{let i=t.get(e.name);return i?n.remove(new eK(e.name,i)):n}});return new te(n,this.indexSet_)}}class tt{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&e3(this.priorityNode_),this.children_.isEmpty()&&(0,v.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return c||(c=new tt(new eZ(e1),null,te.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||c}updatePriority(e){return this.children_.isEmpty()?this:new tt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?c:t}}getChild(e){let t=eA(e);return null===t?this:this.getImmediateChild(t).getChild(eO(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if((0,v.assert)(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,i;let r=new eK(e,t);t.isEmpty()?(n=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(n=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(r,this.children_));let s=n.isEmpty()?c:this.priorityNode_;return new tt(n,s,i)}}updateChild(e,t){let n=eA(e);if(null===n)return t;{(0,v.assert)(".priority"!==eA(e)||1===eP(e),".priority must be the last token in a path");let i=this.getImmediateChild(n).updateChild(eO(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,i=0,r=!0;if(this.forEachChild(e4,(s,o)=>{t[s]=o.val(e),n++,r&&tt.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1}),e||!r||!(i<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+e2(this.getPriority().val())+":"),this.forEachChild(e4,(t,n)=>{let i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":O(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let i=this.resolveIndex_(n);if(!i)return this.children_.getPredecessorKey(e);{let n=i.getPredecessorKey(new eK(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new eK(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new eK(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,eK.Wrap),i=n.peek();for(;null!=i&&0>t.compare(i,e);)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,eK.Wrap),i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tn?-1:0}withIndex(e){if(e===eY||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new tt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===eY||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(e4),n=e.getIterator(e4),i=t.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=t.getNext(),r=n.getNext()}return null===i&&null===r}}resolveIndex_(e){return e===eY?null:this.indexMap_.get(e.toString())}}tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;let tn=new class extends tt{constructor(){super(new eZ(e1),tt.EMPTY_NODE,te.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return tt.EMPTY_NODE}isEmpty(){return!1}};function ti(e,t=null){if(null===e)return tt.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,v.assert)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){let n=e;return new e5(n,ti(t))}if(e instanceof Array){let n=tt.EMPTY_NODE;return Z(e,(t,i)=>{if((0,v.contains)(e,t)&&"."!==t.substring(0,1)){let e=ti(i);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(ti(t))}{let n=[],i=!1,r=e;if(Z(r,(e,t)=>{if("."!==e.substring(0,1)){let r=ti(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new eK(e,r)))}}),0===n.length)return tt.EMPTY_NODE;let s=e9(n,e0,e=>e.name,e1);if(!i)return new tt(s,ti(t),te.Default);{let e=e9(n,e4.getCompare());return new tt(s,ti(t),new te({".priority":e},{".priority":e4}))}}}Object.defineProperties(eK,{MIN:{value:new eK($,tt.EMPTY_NODE)},MAX:{value:new eK(K,tn)}}),eJ.__EMPTY_NODE=tt.EMPTY_NODE,e5.__childrenNodeConstructor=tt,s=tn,l=tn,a=ti;class tr extends eG{constructor(e){super(),this.indexPath_=e,(0,v.assert)(!eF(e)&&".priority"!==eA(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?G(e.name,t.name):r}makePost(e,t){let n=ti(e),i=tt.EMPTY_NODE.updateChild(this.indexPath_,n);return new eK(t,i)}maxPost(){let e=tt.EMPTY_NODE.updateChild(this.indexPath_,tn);return new eK(K,e)}toString(){return eD(this.indexPath_,0).join("/")}}let ts=new class extends eG{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?G(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return eK.MIN}maxPost(){return eK.MAX}makePost(e,t){let n=ti(e);return new eK(t,n)}toString(){return".value"}};function to(e){return{type:"value",snapshotNode:e}}function ta(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function tl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class tc{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){(0,v.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let o=e.getImmediateChild(t);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(tl(t,o)):(0,v.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(ta(t,n)):s.trackChildChange(tu(t,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(e4,(e,i)=>{t.hasChild(e)||n.trackChildChange(tl(e,i))}),t.isLeafNode()||t.forEachChild(e4,(t,i)=>{if(e.hasChild(t)){let r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(tu(t,i,r))}else n.trackChildChange(ta(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?tt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class th{constructor(e){this.indexedFilter_=new tc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=th.getStartPost_(e),this.endPost_=th.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,i,r,s){return this.matches(new eK(t,n))||(n=tt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=tt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(tt.EMPTY_NODE);let r=this;return t.forEachChild(e4,(e,t)=>{r.matches(new eK(e,t))||(i=i.updateImmediateChild(e,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}class td{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new th(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,s){return(this.rangedFilter_.matches(new eK(t,n))||(n=tt.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=tt.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t)){if(this.withinDirectionalEnd(t))i=i.updateImmediateChild(t.name,t.node),n++;else break}}}else{let e;i=(i=t.withIndex(this.index_)).updatePriority(tt.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext(),r=n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t);r?n++:i=i.updateImmediateChild(t.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){let e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();(0,v.assert)(e.numChildren()===this.limit_,"");let o=new eK(t,n),a=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(o);if(e.hasChild(t)){let u=e.getImmediateChild(t),c=i.getChildAfterChild(this.index_,a,this.reverse_);for(;null!=c&&(c.name===t||e.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);let h=null==c?1:s(c,o),d=l&&!n.isEmpty()&&h>=0;if(d)return null!=r&&r.trackChildChange(tu(t,n,u)),e.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(tl(t,u));let n=e.updateImmediateChild(t,tt.EMPTY_NODE),i=null!=c&&this.rangedFilter_.matches(c);return i?(null!=r&&r.trackChildChange(ta(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:l&&s(a,o)>=0?(null!=r&&(r.trackChildChange(tl(a.name,a.node)),r.trackChildChange(ta(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(a.name,tt.EMPTY_NODE)):e}}class tf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=e4}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,v.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return((0,v.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:$}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,v.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return((0,v.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:K}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,v.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===e4}copy(){let e=new tf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tp(e){let t;let n={};if(e.isDefault())return n;if(e.index_===e4?t="$priority":e.index_===ts?t="$value":e.index_===eY?t="$key":((0,v.assert)(e.index_ instanceof tr,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,v.stringify)(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=(0,v.stringify)(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+(0,v.stringify)(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=(0,v.stringify)(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+(0,v.stringify)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function tm(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==e4&&(t.i=e.index_.toString()),t}class tg extends ex{constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=B("p:rest:"),this.listens_={}}reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,v.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,i){let r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);let s=tg.getListenId_(e,n),o={};this.listens_[s]=o;let a=tp(e._queryParams);this.restRequest_(r+".json",a,(e,t)=>{let a=t;404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(r,a,!1,n),(0,v.safeGet)(this.listens_,s)===o&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let n=tg.getListenId_(e,t);delete this.listens_[n]}get(e){let t=tp(e._queryParams),n=e._path.toString(),i=new v.Deferred;return this.restRequest_(n+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,v.querystring)(t);this.log_("Sending REST request for "+s);let o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let e=null;if(o.status>=200&&o.status<300){try{e=(0,v.jsonEval)(o.responseText)}catch(e){z("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,e)}else 401!==o.status&&404!==o.status&&z("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class ty{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function t_(){return{value:null,children:new Map}}function tv(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,i)=>{let r=new eN(t.toString()+"/"+e);tv(i,r,n)})}class tb{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Z(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class tw{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tb(e),es(this.reportStats_.bind(this),Math.floor(1e4+2e4*Math.random()))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;Z(e,(e,i)=>{i>0&&(0,v.contains)(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),es(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function tI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tE(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tk(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(m=g||(g={}))[m.OVERWRITE=0]="OVERWRITE",m[m.MERGE=1]="MERGE",m[m.ACK_USER_WRITE=2]="ACK_USER_WRITE",m[m.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class tC{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=g.ACK_USER_WRITE,this.source=tI()}operationForChild(e){if(!eF(this.path))return(0,v.assert)(eA(this.path)===e,"operationForChild called for unrelated child."),new tC(eO(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return(0,v.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new eN(e));return new tC(eR(),t,this.revert)}}}class tx{constructor(e,t){this.source=e,this.path=t,this.type=g.LISTEN_COMPLETE}operationForChild(e){return eF(this.path)?new tx(this.source,eR()):new tx(this.source,eO(this.path))}}class tT{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=g.OVERWRITE}operationForChild(e){return eF(this.path)?new tT(this.source,eR(),this.snap.getImmediateChild(e)):new tT(this.source,eO(this.path),this.snap)}}class tS{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=g.MERGE}operationForChild(e){if(!eF(this.path))return(0,v.assert)(eA(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tS(this.source,eO(this.path),this.children);{let t=this.children.subtree(new eN(e));return t.isEmpty()?null:t.value?new tT(this.source,eR(),t.value):new tS(this.source,eR(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tN{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(eF(e))return this.isFullyInitialized()&&!this.filtered_;let t=eA(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class tR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tA(e,t,n,i,r,s){let o=i.filter(e=>e.type===n);o.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw(0,v.assertionError)("Should only compare child_ events.");let i=new eK(t.childName,t.snapshotNode),r=new eK(n.childName,n.snapshotNode);return e.index_.compare(i,r)})(e,t,n)),o.forEach(n=>{let i=("value"===n.type||"child_removed"===n.type||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);r.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))})})}function tP(e,t){return{eventCache:e,serverCache:t}}function tO(e,t,n,i){return tP(new tN(t,n,i),e.serverCache)}function tL(e,t,n,i){return tP(e.eventCache,new tN(t,n,i))}function tD(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tM(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let tU=()=>(h||(h=new eZ(J)),h);class tF{constructor(e,t=tU()){this.value=e,this.children=t}static fromObject(e){let t=new tF(null);return Z(e,(e,n)=>{t=t.set(new eN(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:eR(),value:this.value};if(eF(e))return null;{let n=eA(e),i=this.children.get(n);if(null===i)return null;{let r=i.findRootMostMatchingPathAndValue(eO(e),t);if(null==r)return null;{let e=eU(new eN(n),r.path);return{path:e,value:r.value}}}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(eF(e))return this;{let t=eA(e),n=this.children.get(t);return null!==n?n.subtree(eO(e)):new tF(null)}}set(e,t){if(eF(e))return new tF(t,this.children);{let n=eA(e),i=this.children.get(n)||new tF(null),r=i.set(eO(e),t),s=this.children.insert(n,r);return new tF(this.value,s)}}remove(e){if(eF(e))return this.children.isEmpty()?new tF(null):new tF(null,this.children);{let t=eA(e),n=this.children.get(t);if(!n)return this;{let i;let r=n.remove(eO(e));return(i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty())?new tF(null):new tF(this.value,i)}}}get(e){if(eF(e))return this.value;{let t=eA(e),n=this.children.get(t);return n?n.get(eO(e)):null}}setTree(e,t){if(eF(e))return t;{let n;let i=eA(e),r=this.children.get(i)||new tF(null),s=r.setTree(eO(e),t);return n=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new tF(this.value,n)}}fold(e){return this.fold_(eR(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(eU(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,eR(),t)}findOnPath_(e,t,n){let i=!!this.value&&n(t,this.value);if(i)return i;if(eF(e))return null;{let i=eA(e),r=this.children.get(i);return r?r.findOnPath_(eO(e),eU(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,eR(),t)}foreachOnPath_(e,t,n){if(eF(e))return this;{this.value&&n(t,this.value);let i=eA(e),r=this.children.get(i);return r?r.foreachOnPath_(eO(e),eU(t,i),n):new tF(null)}}foreach(e){this.foreach_(eR(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(eU(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class tB{constructor(e){this.writeTree_=e}static empty(){return new tB(new tF(null))}}function tj(e,t,n){if(eF(t))return new tB(new tF(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){let r=i.path,s=i.value,o=eB(r,t);return s=s.updateChild(o,n),new tB(e.writeTree_.set(r,s))}{let i=new tF(n),r=e.writeTree_.setTree(t,i);return new tB(r)}}}function tq(e,t,n){let i=e;return Z(n,(e,n)=>{i=tj(i,eU(t,e),n)}),i}function tz(e,t){if(eF(t))return tB.empty();{let n=e.writeTree_.setTree(t,new tF(null));return new tB(n)}}function tW(e,t){return null!=tH(e,t)}function tH(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(eB(n.path,t)):null}function tV(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(e4,(e,n)=>{t.push(new eK(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new eK(e,n.value))}),t}function t$(e,t){if(eF(t))return e;{let n=tH(e,t);return new tB(null!=n?new tF(n):e.writeTree_.subtree(t))}}function tK(e){return e.writeTree_.isEmpty()}function tG(e,t){return function e(t,n,i){if(null!=n.value)return i.updateChild(t,n.value);{let r=null;return n.children.inorderTraversal((n,s)=>{".priority"===n?((0,v.assert)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):i=e(eU(t,n),s,i)}),i.getChild(t).isEmpty()||null===r||(i=i.updateChild(eU(t,".priority"),r)),i}}(eR(),e.writeTree_,t)}function tJ(e){return e.visible}function tY(e,t,n){let i=tB.empty();for(let r=0;r<e.length;++r){let s=e[r];if(t(s)){let e;let t=s.path;if(s.snap)eq(n,t)?i=tj(i,e=eB(n,t),s.snap):eq(t,n)&&(e=eB(t,n),i=tj(i,eR(),s.snap.getChild(e)));else if(s.children){if(eq(n,t))i=tq(i,e=eB(n,t),s.children);else if(eq(t,n)){if(eF(e=eB(t,n)))i=tq(i,eR(),s.children);else{let t=(0,v.safeGet)(s.children,eA(e));if(t){let n=t.getChild(eO(e));i=tj(i,eR(),n)}}}}else throw(0,v.assertionError)("WriteRecord should have .snap or .children")}}return i}function tQ(e,t,n,i,r){if(i||r){let s=t$(e.visibleWrites,t);if(!r&&tK(s))return n;if(!r&&null==n&&!tW(s,eR()))return null;{let s=tY(e.allWrites,function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(eq(e.path,t)||eq(t,e.path))},t),o=n||tt.EMPTY_NODE;return tG(s,o)}}{let i=tH(e.visibleWrites,t);if(null!=i)return i;{let i=t$(e.visibleWrites,t);if(tK(i))return n;{if(null==n&&!tW(i,eR()))return null;let e=n||tt.EMPTY_NODE;return tG(i,e)}}}}function tX(e,t,n,i){return tQ(e.writeTree,e.treePath,t,n,i)}function tZ(e,t){return function(e,t,n){let i=tt.EMPTY_NODE,r=tH(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(e4,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){let r=t$(e.visibleWrites,t);return n.forEachChild(e4,(e,t)=>{let n=tG(t$(r,new eN(e)),t);i=i.updateImmediateChild(e,n)}),tV(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}{let n=t$(e.visibleWrites,t);return tV(n).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}}(e.writeTree,e.treePath,t)}function t0(e,t,n,i){return function(e,t,n,i,r){(0,v.assert)(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=eU(t,n);if(tW(e.visibleWrites,s))return null;{let t=t$(e.visibleWrites,s);return tK(t)?r.getChild(n):tG(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function t1(e,t){var n,i;return n=e.writeTree,i=eU(e.treePath,t),tH(n.visibleWrites,i)}function t2(e,t,n){return function(e,t,n,i){let r=eU(t,n),s=tH(e.visibleWrites,r);if(null!=s)return s;if(!i.isCompleteForChild(n))return null;{let t=t$(e.visibleWrites,r);return tG(t,i.getNode().getImmediateChild(n))}}(e.writeTree,e.treePath,t,n)}function t3(e,t){return t5(eU(e.treePath,t),e.writeTree)}function t5(e,t){return{treePath:e,writeTree:t}}class t4{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;(0,v.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,v.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");let i=this.changeMap.get(n);if(i){let r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,tu(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,tl(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,ta(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===r)this.changeMap.set(n,tu(n,e.snapshotNode,i.oldSnap));else throw(0,v.assertionError)("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}let t8=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class t6{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new tN(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return t2(this.writes_,e,t)}}getChildAfterChild(e,t,n){var i;let r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tM(this.viewCache_),s=function(e,t,n,i,r,s,o){let a;let l=t$(e.visibleWrites,t),u=tH(l,eR());if(null!=u)a=u;else{if(null==n)return[];a=tG(l,n)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];{let e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),r=n.getNext();for(;r&&e.length<1;)0!==t(r,i)&&e.push(r),r=n.getNext();return e}}((i=this.writes_).writeTree,i.treePath,r,t,0,n,e);return 0===s.length?null:s[0]}}function t9(e,t,n,i,r,s){let o=t.eventCache;if(null!=t1(i,n))return t;{let a,l;if(eF(n)){if((0,v.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=tM(t),r=n instanceof tt?n:tt.EMPTY_NODE,o=tZ(i,r);a=e.filter.updateFullNode(t.eventCache.getNode(),o,s)}else{let n=tX(i,tM(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}}else{let u=eA(n);if(".priority"===u){(0,v.assert)(1===eP(n),"Can't have a priority with additional path components");let r=o.getNode();l=t.serverCache.getNode();let s=t0(i,n,r,l);a=null!=s?e.filter.updatePriority(r,s):o.getNode()}else{let c;let h=eO(n);if(o.isCompleteForChild(u)){l=t.serverCache.getNode();let e=t0(i,n,o.getNode(),l);c=null!=e?o.getNode().getImmediateChild(u).updateChild(h,e):o.getNode().getImmediateChild(u)}else c=t2(i,u,t.serverCache);a=null!=c?e.filter.updateChild(o.getNode(),u,c,h,r,s):o.getNode()}}return tO(t,a,o.isFullyInitialized()||eF(n),e.filter.filtersNodes())}}function t7(e,t,n,i,r,s,o,a){let l;let u=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(eF(n))l=c.updateFullNode(u.getNode(),i,null);else if(c.filtersNodes()&&!u.isFiltered()){let e=u.getNode().updateChild(n,i);l=c.updateFullNode(u.getNode(),e,null)}else{let e=eA(n);if(!u.isCompleteForPath(n)&&eP(n)>1)return t;let r=eO(n),s=u.getNode().getImmediateChild(e),o=s.updateChild(r,i);l=".priority"===e?c.updatePriority(u.getNode(),o):c.updateChild(u.getNode(),e,o,r,t8,null)}let h=tL(t,l,u.isFullyInitialized()||eF(n),c.filtersNodes()),d=new t6(r,h,s);return t9(e,h,n,r,d,a)}function ne(e,t,n,i,r,s,o){let a,l;let u=t.eventCache,c=new t6(r,t,s);if(eF(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,o),a=tO(t,l,!0,e.filter.filtersNodes());else{let r=eA(n);if(".priority"===r)l=e.filter.updatePriority(t.eventCache.getNode(),i),a=tO(t,l,u.isFullyInitialized(),u.isFiltered());else{let s;let l=eO(n),h=u.getNode().getImmediateChild(r);if(eF(l))s=i;else{let e=c.getCompleteChild(r);s=null!=e?".priority"===eL(l)&&e.getChild(eM(l)).isEmpty()?e:e.updateChild(l,i):tt.EMPTY_NODE}if(h.equals(s))a=t;else{let n=e.filter.updateChild(u.getNode(),r,s,l,c,o);a=tO(t,n,u.isFullyInitialized(),e.filter.filtersNodes())}}}return a}function nt(e,t){return e.eventCache.isCompleteForChild(t)}function nn(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function ni(e,t,n,i,r,s,o,a){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t;l=eF(n)?i:new tF(null).setTree(n,i);let c=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(c.hasChild(n)){let l=t.serverCache.getNode().getImmediateChild(n),c=nn(e,l,i);u=t7(e,u,new eN(n),c,r,s,o,a)}}),l.children.inorderTraversal((n,i)=>{let l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!c.hasChild(n)&&!l){let l=t.serverCache.getNode().getImmediateChild(n),c=nn(e,l,i);u=t7(e,u,new eN(n),c,r,s,o,a)}}),u}class nr{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,i=new tc(n.getIndex()),r=n.loadsAllData()?new tc(n.getIndex()):n.hasLimit()?new td(n):new th(n);this.processor_={filter:r};let s=t.serverCache,o=t.eventCache,a=i.updateFullNode(tt.EMPTY_NODE,s.getNode(),null),l=r.updateFullNode(tt.EMPTY_NODE,o.getNode(),null),u=new tN(a,s.isFullyInitialized(),i.filtersNodes()),c=new tN(l,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=tP(c,u),this.eventGenerator_=new tR(this.query_)}get query(){return this.query_}}function ns(e){return 0===e.eventRegistrations_.length}function no(e,t,n){let i=[];if(n){(0,v.assert)(null==t,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){let r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function na(e,t,n,i){var r,s;t.type===g.MERGE&&null!==t.source.queryId&&((0,v.assert)(tM(e.viewCache_),"We should always have a full cache before handling merges"),(0,v.assert)(tD(e.viewCache_),"Missing event cache, even though we have a server cache"));let o=e.viewCache_,a=function(e,t,n,i,r){let s,o;let a=new t4;if(n.type===g.OVERWRITE)n.source.fromUser?s=ne(e,t,n.path,n.snap,i,r,a):((0,v.assert)(n.source.fromServer,"Unknown source."),o=n.source.tagged||t.serverCache.isFiltered()&&!eF(n.path),s=t7(e,t,n.path,n.snap,i,r,o,a));else if(n.type===g.MERGE){var l,u;let c;n.source.fromUser?(l=n.path,u=n.children,c=t,u.foreach((n,s)=>{let o=eU(l,n);nt(t,eA(o))&&(c=ne(e,c,o,s,i,r,a))}),u.foreach((n,s)=>{let o=eU(l,n);nt(t,eA(o))||(c=ne(e,c,o,s,i,r,a))}),s=c):((0,v.assert)(n.source.fromServer,"Unknown source."),o=n.source.tagged||t.serverCache.isFiltered(),s=ni(e,t,n.path,n.children,i,r,o,a))}else if(n.type===g.ACK_USER_WRITE)s=n.revert?function(e,t,n,i,r,s){let o;if(null!=t1(i,n))return t;{let a;let l=new t6(i,t,r),u=t.eventCache.getNode();if(eF(n)||".priority"===eA(n)){let n;if(t.serverCache.isFullyInitialized())n=tX(i,tM(t));else{let e=t.serverCache.getNode();(0,v.assert)(e instanceof tt,"serverChildren would be complete if leaf node"),n=tZ(i,e)}a=e.filter.updateFullNode(u,n,s)}else{let r=eA(n),c=t2(i,r,t.serverCache);null==c&&t.serverCache.isCompleteForChild(r)&&(c=u.getImmediateChild(r)),(a=null!=c?e.filter.updateChild(u,r,c,eO(n),l,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(u,r,tt.EMPTY_NODE,eO(n),l,s):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=tX(i,tM(t))).isLeafNode()&&(a=e.filter.updateFullNode(a,o,s))}return o=t.serverCache.isFullyInitialized()||null!=t1(i,eR()),tO(t,a,o,e.filter.filtersNodes())}}(e,t,n.path,i,r,a):function(e,t,n,i,r,s,o){if(null!=t1(r,n))return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(eF(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return t7(e,t,n,l.getNode().getChild(n),r,s,a,o);if(!eF(n))return t;{let i=new tF(null);return l.getNode().forEachChild(eY,(e,t)=>{i=i.set(new eN(e),t)}),ni(e,t,n,i,r,s,a,o)}}{let u=new tF(null);return i.foreach((e,t)=>{let i=eU(n,e);l.isCompleteForPath(i)&&(u=u.set(e,l.getNode().getChild(i)))}),ni(e,t,n,u,r,s,a,o)}}(e,t,n.path,n.affectedTree,i,r,a);else if(n.type===g.LISTEN_COMPLETE)s=function(e,t,n,i,r){let s=t.serverCache,o=tL(t,s.getNode(),s.isFullyInitialized()||eF(n),s.isFiltered());return t9(e,o,n,i,t8,r)}(e,t,n.path,i,a);else throw(0,v.assertionError)("Unknown operation type: "+n.type);let c=a.getChanges();return function(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=tD(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!r||i.getNode().equals(s))&&i.getNode().getPriority().equals(s.getPriority())||n.push(to(tD(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,o,t,n,i);return r=e.processor_,s=a.viewCache,(0,v.assert)(s.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,v.assert)(s.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed"),(0,v.assert)(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,nl(e,a.changes,a.viewCache.eventCache.getNode(),null)}function nl(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){let r=[],s=[];return t.forEach(t=>{if("child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)){var n;s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}}),tA(e,r,"child_removed",t,i,n),tA(e,r,"child_added",t,i,n),tA(e,r,"child_moved",s,i,n),tA(e,r,"child_changed",t,i,n),tA(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}class nu{constructor(){this.views=new Map}}function nc(e,t,n,i){let r=t.source.queryId;if(null!==r){let s=e.views.get(r);return(0,v.assert)(null!=s,"SyncTree gave us an op for an invalid query."),na(s,t,n,i)}{let r=[];for(let s of e.views.values())r=r.concat(na(s,t,n,i));return r}}function nh(e,t,n,i,r){let s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=tX(n,r?i:null),s=!1;e?s=!0:(e=i instanceof tt?tZ(n,i):tt.EMPTY_NODE,s=!1);let o=tP(new tN(e,s,!1),new tN(i,r,!1));return new nr(t,o)}return o}function nd(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function nf(e,t){let n=null;for(let i of e.views.values())n=n||function(e,t){let n=tM(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!eF(t)&&!n.getImmediateChild(eA(t)).isEmpty())?n.getChild(t):null}(i,t);return n}function np(e,t){let n=t._queryParams;if(n.loadsAllData())return ng(e);{let n=t._queryIdentifier;return e.views.get(n)}}function nm(e){return null!=ng(e)}function ng(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ny=1;class n_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tF(null),this.pendingWriteTree_={visibleWrites:tB.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nv(e,t,n,i,r){var s,o;return(s=e.pendingWriteTree_,o=r,(0,v.assert)(i>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),s.allWrites.push({path:t,snap:n,writeId:i,visible:o}),o&&(s.visibleWrites=tj(s.visibleWrites,t,n)),s.lastWriteId=i,r)?nx(e,new tT(tI(),t,n)):[]}function nb(e,t,n=!1){let i=function(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t),r=function(e,t){let n=e.allWrites.findIndex(e=>e.writeId===t);(0,v.assert)(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){let t=e.allWrites[o];t.visible&&(o>=n&&function(e,t){if(e.snap)return eq(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&eq(eU(e.path,n),t))return!0;return!1}(t,i.path)?r=!1:eq(i.path,t.path)&&(s=!0)),o--}if(!r)return!1;if(s)return e.visibleWrites=tY(e.allWrites,tJ,eR()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1,!0;if(i.snap)e.visibleWrites=tz(e.visibleWrites,i.path);else{let t=i.children;Z(t,t=>{e.visibleWrites=tz(e.visibleWrites,eU(i.path,t))})}return!0}(e.pendingWriteTree_,t);if(!r)return[];{let t=new tF(null);return null!=i.snap?t=t.set(eR(),!0):Z(i.children,e=>{t=t.set(new eN(e),!0)}),nx(e,new tC(i.path,t,n))}}function nw(e,t,n){return nx(e,new tT(tE(),t,n))}function nI(e,t,n,i,r=!1){let s=t._path,o=e.syncPointTree_.get(s),a=[];if(o&&("default"===t._queryIdentifier||null!=np(o,t))){let l=function(e,t,n,i){let r=t._queryIdentifier,s=[],o=[],a=nm(e);if("default"===r)for(let[t,r]of e.views.entries())o=o.concat(no(r,n,i)),ns(r)&&(e.views.delete(t),r.query._queryParams.loadsAllData()||s.push(r.query));else{let t=e.views.get(r);t&&(o=o.concat(no(t,n,i)),ns(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!nm(e)&&s.push(new((0,v.assert)(d,"Reference.ts has not been loaded"),d)(t._repo,t._path)),{removed:s,events:o}}(o,t,n,i);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));let u=l.removed;if(a=l.events,!r){let n=-1!==u.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(s,(e,t)=>nm(t));if(n&&!r){let t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&nm(t)){let e=ng(t);return[e]}{let e=[];return t&&(e=nd(t)),Z(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let i=n[t],r=i.query,s=nT(e,i);e.listenProvider_.startListening(nO(r),nS(e,r),s.hashFn,s.onComplete)}}}r||!(u.length>0)||i||(n?e.listenProvider_.stopListening(nO(t),null):u.forEach(t=>{let n=e.queryToTagMap.get(nN(t));e.listenProvider_.stopListening(nO(t),n)}))}(function(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let t=nN(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}})(e,u)}return a}function nE(e,t,n,i){let r=nR(e,i);if(null==r)return[];{let i=nA(r),s=i.path,o=i.queryId,a=eB(s,t),l=new tT(tk(o),a,n);return nP(e,s,l)}}function nk(e,t,n,i=!1){var r;let s;let o=t._path,a=null,l=!1;e.syncPointTree_.foreachOnPath(o,(e,t)=>{let n=eB(e,o);a=a||nf(t,n),l=l||nm(t)});let u=e.syncPointTree_.get(o);if(u?(l=l||nm(u),a=a||nf(u,eR())):(u=new nu,e.syncPointTree_=e.syncPointTree_.set(o,u)),null!=a)s=!0;else{s=!1,a=tt.EMPTY_NODE;let t=e.syncPointTree_.subtree(o);t.foreachChild((e,t)=>{let n=nf(t,eR());n&&(a=a.updateImmediateChild(e,n))})}let c=null!=np(u,t);if(!c&&!t._queryParams.loadsAllData()){let n=nN(t);(0,v.assert)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let i=ny++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let h=(r=e.pendingWriteTree_,t5(o,r)),d=function(e,t,n,i,r,s){let o=nh(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){let n=e.viewCache_.eventCache,i=[];if(!n.getNode().isLeafNode()){let e=n.getNode();e.forEachChild(e4,(e,t)=>{i.push(ta(e,t))})}return n.isFullyInitialized()&&i.push(to(n.getNode())),nl(e,i,n.getNode(),t)}(o,n)}(u,t,n,h,a,s);if(!c&&!l&&!i){let n=np(u,t);d=d.concat(function(e,t,n){let i=t._path,r=nS(e,t),s=nT(e,n),o=e.listenProvider_.startListening(nO(t),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)(0,v.assert)(!nm(a.value),"If we're adding a query, it shouldn't be shadowed");else{let t=a.fold((e,t,n)=>{if(!eF(e)&&t&&nm(t))return[ng(t).query];{let e=[];return t&&(e=e.concat(nd(t).map(e=>e.query))),Z(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let i=t[n];e.listenProvider_.stopListening(nO(i),nS(e,i))}}return o}(e,t,n))}return d}function nC(e,t,n){let i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,n)=>{let i=eB(e,t),r=nf(n,i);if(r)return r});return tQ(i,t,r,n,!0)}function nx(e,t){var n;return function e(t,n,i,r){if(eF(t.path))return function e(t,n,i,r){let s=n.get(eR());null==i&&null!=s&&(i=nf(s,eR()));let o=[];return n.children.inorderTraversal((n,s)=>{let a=i?i.getImmediateChild(n):null,l=t3(r,n),u=t.operationForChild(n);u&&(o=o.concat(e(u,s,a,l)))}),s&&(o=o.concat(nc(s,t,r,i))),o}(t,n,i,r);{let s=n.get(eR());null==i&&null!=s&&(i=nf(s,eR()));let o=[],a=eA(t.path),l=t.operationForChild(a),u=n.children.get(a);if(u&&l){let t=i?i.getImmediateChild(a):null,n=t3(r,a);o=o.concat(e(l,u,t,n))}return s&&(o=o.concat(nc(s,t,r,i))),o}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,t5(eR(),n)))}function nT(e,t){let n=t.query,i=nS(e,n);return{hashFn:()=>{let e=t.viewCache_.serverCache.getNode()||tt.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t){var r;return i?function(e,t,n){let i=nR(e,n);if(!i)return[];{let n=nA(i),r=n.path,s=n.queryId,o=eB(r,t),a=new tx(tk(s),o);return nP(e,r,a)}}(e,n._path,i):(r=n._path,nx(e,new tx(tE(),r)))}{let i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");let i=Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return nI(e,n,null,i)}}}}function nS(e,t){let n=nN(t);return e.queryToTagMap.get(n)}function nN(e){return e._path.toString()+"$"+e._queryIdentifier}function nR(e,t){return e.tagToQueryMap.get(t)}function nA(e){let t=e.indexOf("$");return(0,v.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new eN(e.substr(0,t))}}function nP(e,t,n){let i=e.syncPointTree_.get(t);(0,v.assert)(i,"Missing sync point for query tag that we're tracking");let r=t5(t,e.pendingWriteTree_);return nc(i,n,r,null)}function nO(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,v.assert)(f,"Reference.ts has not been loaded"),f)(e._repo,e._path):e}class nL{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new nL(t)}node(){return this.node_}}class nD{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=eU(this.path_,e);return new nD(this.syncTree_,t)}node(){return nC(this.syncTree_,this.path_)}}let nM=function(e,t,n){return e&&"object"==typeof e?((0,v.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?nU(e[".sv"],t,n):"object"==typeof e[".sv"]?nF(e[".sv"],t):void(0,v.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},nU=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,v.assert)(!1,"Unexpected server value: "+e)},nF=function(e,t,n){e.hasOwnProperty("increment")||(0,v.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;"number"!=typeof i&&(0,v.assert)(!1,"Unexpected increment value: "+i);let r=t.node();if((0,v.assert)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return"number"!=typeof s?i:s+i},nB=function(e,t,n){return nj(e,new nL(t),n)};function nj(e,t,n){let i;let r=e.getPriority().val(),s=nM(r,t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return i=e,s!==e.getPriority().val()&&(i=i.updatePriority(new e5(s))),e.forEachChild(e4,(e,r)=>{let s=nj(r,t.getImmediateChild(e),n);s!==r&&(i=i.updateImmediateChild(e,s))}),i;{let i=nM(e.getValue(),t,n);return i!==e.getValue()||s!==e.getPriority().val()?new e5(i,ti(s)):e}}class nq{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function nz(e,t){let n=t instanceof eN?t:new eN(t),i=e,r=eA(n);for(;null!==r;){let e=(0,v.safeGet)(i.node.children,r)||{children:{},childCount:0};i=new nq(r,i,e),r=eA(n=eO(n))}return i}function nW(e){return e.node.value}function nH(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,i){let r=void 0===nW(i)&&!nV(i),s=(0,v.contains)(t.node.children,n);r&&s?(delete t.node.children[n],t.node.childCount--,e(t)):r||s||(t.node.children[n]=i.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function nV(e){return e.node.childCount>0}function n$(e,t){Z(e.node.children,(n,i)=>{t(new nq(n,e,i))})}function nK(e){return new eN(null===e.parent?e.name:nK(e.parent)+"/"+e.name)}let nG=/[\[\].#$\/\u0000-\u001F\u007F]/,nJ=/[\[\].#$\u0000-\u001F\u007F]/,nY=function(e){return"string"==typeof e&&0!==e.length&&!nG.test(e)},nQ=function(e){return"string"==typeof e&&0!==e.length&&!nJ.test(e)},nX=function(e,t,n,i){i&&void 0===t||nZ((0,v.errorPrefix)(e,"value"),t,n)},nZ=function(e,t,n){let i=n instanceof eN?new ez(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+eH(i));if("function"==typeof t)throw Error(e+"contains a function "+eH(i)+" with contents = "+t.toString());if(H(t))throw Error(e+"contains "+t.toString()+" "+eH(i));if("string"==typeof t&&t.length>10485760/3&&(0,v.stringLength)(t)>10485760)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+eH(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(Z(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!nY(t)))throw Error(e+" contains an invalid key ("+t+") "+eH(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,v.stringLength)(t),eW(i),nZ(e,s,i),function(e){let t=e.parts_.pop();e.byteLength_-=(0,v.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),n&&r)throw Error(e+' contains ".value" child '+eH(i)+" in addition to actual children.")}},n0=function(e,t,n,i){if((!i||void 0!==n)&&!nQ(n))throw Error((0,v.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},n1=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),n0(e,t,n,i)},n2=function(e,t){if(".info"===eA(t))throw Error(e+" failed = Can't modify data under /.info/")},n3=function(e,t){var n;let i=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!nY(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==i.length&&((n=i)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!nQ(n)))throw Error((0,v.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class n5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function n4(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],s=r.getPath();null===n||ej(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function n8(e,t,n){n4(e,n),n9(e,e=>ej(e,t))}function n6(e,t,n){n4(e,n),n9(e,e=>eq(e,t)||eq(t,e))}function n9(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let s=r.path;t(s)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let i=n.getEventRunner();D&&F("event: "+n.toString()),ei(i)}}}(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}class n7{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new n5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=t_(),this.transactionQueueTree_=new nq,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ie(e){let t=e.infoData_.getNode(new eN(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function it(e){var t;return(t=t={timestamp:ie(e)}).timestamp=t.timestamp||new Date().getTime(),t}function ii(e,t,n,i,r){e.dataUpdateCount++;let s=new eN(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r){if(i){let t=(0,v.map)(n,e=>ti(e));o=function(e,t,n,i){let r=nR(e,i);if(!r)return[];{let i=nA(r),s=i.path,o=i.queryId,a=eB(s,t),l=tF.fromObject(n),u=new tS(tk(o),a,l);return nP(e,s,u)}}(e.serverSyncTree_,s,t,r)}else{let t=ti(n);o=nE(e.serverSyncTree_,s,t,r)}}else if(i){let t=(0,v.map)(n,e=>ti(e));o=function(e,t,n){let i=tF.fromObject(n);return nx(e,new tS(tE(),t,i))}(e.serverSyncTree_,s,t)}else{let t=ti(n);o=nw(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=ic(e,s)),n6(e.eventQueue_,a,o)}function ir(e,t){is(e,"connected",t),!1===t&&function(e){il(e,"onDisconnectEvents");let t=it(e),n=t_();tv(e.onDisconnect_,eR(),(i,r)=>{var s;let o=(s=e.serverSyncTree_,nj(r,new nD(s,i),t));!function e(t,n,i){if(eF(n))t.value=i,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,i);else{let r=eA(n);t.children.has(r)||t.children.set(r,t_());let s=t.children.get(r);e(s,n=eO(n),i)}}(n,i,o)});let i=[];tv(n,eR(),(t,n)=>{i=i.concat(nw(e.serverSyncTree_,t,n));let r=im(e,t);ic(e,r)}),e.onDisconnect_=t_(),n6(e.eventQueue_,eR(),i)}(e)}function is(e,t,n){let i=new eN("/.info/"+t),r=ti(n);e.infoData_.updateSnapshot(i,r);let s=nw(e.infoSyncTree_,i,r);n6(e.eventQueue_,i,s)}function io(e){return e.nextWriteId_++}function ia(e,t,n){let i;i=".info"===eA(t._path)?nI(e.infoSyncTree_,t,n):nI(e.serverSyncTree_,t,n),n8(e.eventQueue_,t._path,i)}function il(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),F(n,...t)}function iu(e,t,n){return nC(e.serverSyncTree_,t,n)||tt.EMPTY_NODE}function ic(e,t){let n=ih(e,t),i=nK(n),r=id(e,n);return function(e,t,n){if(0===t.length)return;let i=[],r=[],s=t.filter(e=>0===e.status),o=s.map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){let a=t[s],l=eB(n,a.path),u=!1,c;if((0,v.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,r=r.concat(nb(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status){if(a.retryCount>=25)u=!0,c="maxretry",r=r.concat(nb(e.serverSyncTree_,a.currentWriteId,!0));else{let n=iu(e,a.path,o);a.currentInputSnapshot=n;let i=t[s].update(n.val());if(void 0!==i){nZ("transaction failed: Data returned ",i,a.path);let t=ti(i),s="object"==typeof i&&null!=i&&(0,v.contains)(i,".priority");s||(t=t.updatePriority(n.getPriority()));let l=a.currentWriteId,u=it(e),c=nB(t,n,u);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=io(e),o.splice(o.indexOf(l),1),r=(r=r.concat(nv(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally))).concat(nb(e.serverSyncTree_,l,!0))}else u=!0,c="nodata",r=r.concat(nb(e.serverSyncTree_,a.currentWriteId,!0))}}n6(e.eventQueue_,n,r),r=[],u&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&("nodata"===c?i.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):i.push(()=>t[s].onComplete(Error(c),!1,null))))}ip(e,e.transactionQueueTree_);for(let e=0;e<i.length;e++)ei(i[e]);(function e(t,n=t.transactionQueueTree_){if(n||ip(t,n),nW(n)){let i=id(t,n);(0,v.assert)(i.length>0,"Sending zero length transaction queue");let r=i.every(e=>0===e.status);r&&function(t,n,i){let r=i.map(e=>e.currentWriteId),s=iu(t,n,r),o=s,a=s.hash();for(let e=0;e<i.length;e++){let t=i[e];(0,v.assert)(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;let r=eB(n,t.path);o=o.updateChild(r,t.currentOutputSnapshotRaw)}let l=o.val(!0);t.server_.put(n.toString(),l,r=>{il(t,"transaction put response",{path:n.toString(),status:r});let s=[];if("ok"===r){let r=[];for(let e=0;e<i.length;e++)i[e].status=2,s=s.concat(nb(t.serverSyncTree_,i[e].currentWriteId)),i[e].onComplete&&r.push(()=>i[e].onComplete(null,!0,i[e].currentOutputSnapshotResolved)),i[e].unwatcher();ip(t,nz(t.transactionQueueTree_,n)),e(t,t.transactionQueueTree_),n6(t.eventQueue_,n,s);for(let e=0;e<r.length;e++)ei(r[e])}else{if("datastale"===r)for(let e=0;e<i.length;e++)3===i[e].status?i[e].status=4:i[e].status=0;else{z("transaction at "+n.toString()+" failed: "+r);for(let e=0;e<i.length;e++)i[e].status=4,i[e].abortReason=r}ic(t,n)}},a)}(t,nK(n),i)}else nV(n)&&n$(n,n=>{e(t,n)})})(e,e.transactionQueueTree_)}(e,r,i),i}function ih(e,t){let n;let i=e.transactionQueueTree_;for(n=eA(t);null!==n&&void 0===nW(i);)i=nz(i,n),n=eA(t=eO(t));return i}function id(e,t){let n=[];return function e(t,n,i){let r=nW(n);if(r)for(let e=0;e<r.length;e++)i.push(r[e]);n$(n,n=>{e(t,n,i)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ip(e,t){let n=nW(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,nH(t,n.length>0?n:void 0)}n$(t,t=>{ip(e,t)})}function im(e,t){let n=nK(ih(e,t)),i=nz(e.transactionQueueTree_,t);return function(e,t,n){let i=e.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,t=>{ig(e,t)}),ig(e,i),function e(t,n,i,r){i&&!r&&n(t),n$(t,t=>{e(t,n,!0,r)}),i&&r&&n(t)}(i,t=>{ig(e,t)}),n}function ig(e,t){let n=nW(t);if(n){let i=[],r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,v.assert)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,v.assert)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(nb(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===s?nH(t,void 0):n.length=s+1,n6(e.eventQueue_,nK(t),r);for(let e=0;e<i.length;e++)ei(i[e])}}let iy=function(e,t){let n=i_(e),i=n.namespace;"firebase.com"===n.domain&&q(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||q("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||W();let r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ed(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new eN(n.pathString)}},i_=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(r=function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let i=n[e];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,h)));let d=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):z(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));(u=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(u+1),10)):u=t.length;let f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{let e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}},iv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ib=function(){let e=0,t=[];return function(n){let i;let r=n===e;e=n;let s=Array(8);for(i=7;i>=0;i--)s[i]=iv.charAt(n%64),n=Math.floor(n/64);(0,v.assert)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=iv.charAt(t[i]);return(0,v.assert)(20===o.length,"nextPushId: Length should be 20."),o}}();class iw{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,v.stringify)(this.snapshot.exportVal())}}class iI{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class iE{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,v.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ik{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return eF(this._path)?null:eL(this._path)}get ref(){return new iC(this._repo,this._path)}get _queryIdentifier(){let e=tm(this._queryParams),t=Q(e);return"{}"===t?"default":t}get _queryObject(){return tm(this._queryParams)}isEqual(e){if(!((e=(0,v.getModularInstance)(e))instanceof ik))return!1;let t=this._repo===e._repo,n=ej(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class iC extends ik{constructor(e,t){super(e,t,new tf,!1)}get parent(){let e=eM(this._path);return null===e?null:new iC(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ix{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new eN(e),n=iS(this.ref,e);return new ix(this._node.getChild(t),n,e4)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;let t=this._node;return!!t.forEachChild(this._index,(t,n)=>e(new ix(n,iS(this.ref,t),e4)))}hasChild(e){let t=new eN(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function iT(e,t){return(e=(0,v.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?iS(e._root,t):e._root}function iS(e,t){return null===eA((e=(0,v.getModularInstance)(e))._path)?n1("child","path",t,!1):n0("child","path",t,!1),new iC(e._repo,eU(e._path,t))}function iN(e,t){let n;n2("push",(e=(0,v.getModularInstance)(e))._path),nX("push",t,e._path,!0);let i=ie(e._repo),r=ib(i),s=iS(e,r),o=iS(e,r);return n=null!=t?iA(o,t).then(()=>o):Promise.resolve(o),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function iR(e){return n2("remove",e._path),iA(e,null)}function iA(e,t){n2("set",(e=(0,v.getModularInstance)(e))._path),nX("set",t,e._path,!1);let n=new v.Deferred;return function(e,t,n,i,r){il(e,"set",{path:t.toString(),value:n,priority:i});let s=it(e),o=ti(n,i),a=nC(e.serverSyncTree_,t),l=nB(o,a,s),u=io(e),c=nv(e.serverSyncTree_,t,l,u,!0);n4(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(n,i)=>{let s="ok"===n;s||z("set at "+t+" failed: "+n);let o=nb(e.serverSyncTree_,u,!s);n6(e.eventQueue_,t,o),r&&ei(()=>{if("ok"===n)r(null);else{let e=(n||"error").toUpperCase(),t=e;i&&(t+=": "+i);let s=Error(t);s.code=e,r(s)}})});let h=im(e,t);ic(e,h),n6(e.eventQueue_,h,[])}(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function iP(e){e=(0,v.getModularInstance)(e);let t=new iE(()=>{}),n=new iO(t);return(function(e,t,n){let i=function(e,t){var n;let i=t._path,r=null;e.syncPointTree_.foreachOnPath(i,(e,t)=>{let n=eB(e,i);r=r||nf(t,n)});let s=e.syncPointTree_.get(i);s?r=r||nf(s,eR()):(s=new nu,e.syncPointTree_=e.syncPointTree_.set(i,s));let o=null!=r,a=o?new tN(r,!0,!1):null,l=(n=e.pendingWriteTree_,t5(t._path,n)),u=nh(s,t,l,o?a.getNode():tt.EMPTY_NODE,o);return tD(u.viewCache_)}(e.serverSyncTree_,t);return null!=i?Promise.resolve(i):e.server_.get(t).then(i=>{let r;let s=ti(i).withIndex(t._queryParams.getIndex());if(nk(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())r=nw(e.serverSyncTree_,t._path,s);else{let n=nS(e.serverSyncTree_,t);r=nE(e.serverSyncTree_,t._path,s,n)}return n6(e.eventQueue_,t._path,r),nI(e.serverSyncTree_,t,n,null,!0),s},n=>(il(e,"get for query "+(0,v.stringify)(t)+" failed: "+n),Promise.reject(Error(n))))})(e._repo,e,n).then(t=>new ix(t,new iC(e._repo,e._path),e._queryParams.getIndex()))}class iO{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new iw("value",this,new ix(e.snapshotNode,new iC(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new iI(this,e,t):null}matches(e){return e instanceof iO&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class iL{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new iI(this,e,t):null}createEvent(e,t){(0,v.assert)(null!=e.childName,"Child events should have a childName.");let n=iS(new iC(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new iw(e.type,this,new ix(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof iL&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function iD(e,t,n,i){return function(e,t,n,i,r){var s;let o,a;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){let t=n,i=(n,i)=>{ia(e._repo,e,u),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}let l=new iE(n,o||void 0),u="value"===t?new iO(l):new iL(t,l);return s=e._repo,a=".info"===eA(e._path)?nk(s.infoSyncTree_,e,u):nk(s.serverSyncTree_,e,u),n8(s.eventQueue_,e._path,a),()=>ia(e._repo,e,u)}(e,"value",t,n,i)}(0,v.assert)(!d,"__referenceConstructor has already been defined"),d=iC,(0,v.assert)(!f,"__referenceConstructor has already been defined"),f=iC;let iM={};class iU{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=ey(e.repoInfo_),e.forceRestClient_||er())e.server_=new tg(e.repoInfo_,(t,n,i,r)=>{ii(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ir(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,v.stringify)(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new e$(e.repoInfo_,t,(t,n,i,r)=>{ii(e,t,n,i,r)},t=>{ir(e,t)},t=>{Z(t,(t,n)=>{is(e,t,n)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){let n=e.toString();return eg[n]||(eg[n]=t()),eg[n]}(e.repoInfo_,()=>new tw(e.stats_,e.server_)),e.infoData_=new ty,e.infoSyncTree_=new n_({startListening:(t,n,i,r)=>{let s=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=nw(e.infoSyncTree_,t._path,o),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),is(e,"connected",!1),e.serverSyncTree_=new n_({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{let s=r(n,i);n6(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new iC(this._repo,eR())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){let n=iM[t];n&&n[e.key]===e||q(`Database ${t}(${e.repoInfo_}) has already been deleted.`),e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt"),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&q("Cannot call "+e+" on a deleted database.")}}function iF(e=(0,y.getApp)(),t){let n=(0,y._getProvider)(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let e=(0,v.getDefaultEmulatorHostnameAndPort)("database");e&&function(e,t,n,i={}){var r;let s;(e=(0,v.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&q("Cannot call useEmulator() after instance has already been initialized.");let o=e._repoInternal;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&q('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new el(el.OWNER);else if(i.mockUserToken){let t="string"==typeof i.mockUserToken?i.mockUserToken:(0,v.createMockUserToken)(i.mockUserToken,e.app.options.projectId);s=new el(t)}r=s,o.repoInfo_=new ed(`${t}:${n}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0),r&&(o.authTokenProvider_=r)}(n,...e)}return n}e$.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},e$.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},k=y.SDK_VERSION,(0,y._registerComponent)(new(0,_.Component)("database",(e,{instanceIdentifier:t})=>{let n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return function(e,t,n,i,r){var s,o;let a,l,u,c,h=i||e.options.databaseURL;void 0===h&&(e.options.projectId||q("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),F("Using default host for project ",e.options.projectId),h=`${e.options.projectId}-default-rtdb.firebaseio.com`);let d=iy(h,r),f=d.repoInfo;void 0!==w&&w.env&&(u=w.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,f=(d=iy(h=`http://${u}?ns=${f.namespace}`,r)).repoInfo):c=!d.repoInfo.secure;let p=r&&c?new el(el.OWNER):new ea(e.name,e.options,t);n3("Invalid Firebase Database URL",d),eF(d.path)||q("Database URL must point to the root of a Firebase Database (not including a child path).");let m=(s=f,o=new eo(e.name,n),(a=iM[e.name])||(a={},iM[e.name]=a),(l=a[s.toURLString()])&&q("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new n7(s,!1,p,o),a[s.toURLString()]=l,l);return new iU(m,e)}(n,i,r,t)},"PUBLIC").setMultipleInstances(!0)),(0,y.registerVersion)(I,E,void 0),(0,y.registerVersion)(I,E,"esm2017")}),r.register("ix4Jr",function(t,n){e(t.exports,"_registerComponent",function(){return g}),e(t.exports,"_getProvider",function(){return y}),e(t.exports,"SDK_VERSION",function(){return b}),e(t.exports,"initializeApp",function(){return w}),e(t.exports,"getApp",function(){return I}),e(t.exports,"registerVersion",function(){return E});var i=r("4a6xH"),s=r("7vF8m"),o=r("ffjl9"),a=r("cCiiD");class l{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let u="@firebase/app",c="0.9.15",h=new s.Logger("@firebase/app"),d="[DEFAULT]",f={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,m=new Map;function g(e){let t=e.name;if(m.has(t))return h.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(m.set(t,e),p.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){h.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function y(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}let _=new o.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class v{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}let b="10.1.0";function w(e,t={}){let n=e;if("object"!=typeof t){let e=t;t={name:e}}let r=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!=typeof s||!s)throw _.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.getDefaultAppConfig)()),!n)throw _.create("no-options");let a=p.get(s);if(a){if((0,o.deepEqual)(n,a.options)&&(0,o.deepEqual)(r,a.config))return a;throw _.create("duplicate-app",{appName:s})}let l=new i.ComponentContainer(s);for(let e of m.values())l.addComponent(e);let u=new v(n,r,l);return p.set(s,u),u}function I(e=d){let t=p.get(e);if(!t&&e===d&&(0,o.getDefaultAppConfig)())return w();if(!t)throw _.create("no-app",{appName:e});return t}function E(e,t,n){var r;let s=null!==(r=f[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);let o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){let e=[`Unable to register library "${s}" with version "${t}":`];o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),h.warn(e.join(" "));return}g(new i.Component(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}let k="firebase-heartbeat-store",x=null;function T(){return x||(x=(0,a.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{0===t&&e.createObjectStore(k)}}).catch(e=>{throw _.create("idb-open",{originalErrorMessage:e.message})})),x}async function S(e){try{let t=await T(),n=await t.transaction(k).objectStore(k).get(R(e));return n}catch(e){if(e instanceof o.FirebaseError)h.warn(e.message);else{let t=_.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});h.warn(t.message)}}}async function N(e,t){try{let n=await T(),i=n.transaction(k,"readwrite"),r=i.objectStore(k);await r.put(t,R(e)),await i.done}catch(e){if(e instanceof o.FirebaseError)h.warn(e.message);else{let t=_.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});h.warn(t.message)}}}function R(e){return`${e.name}!${e.options.appId}`}class A{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new O(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=P();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))?void 0:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),n=Date.now();return n-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=P(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],i=e.slice();for(let r of e){let e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),L(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),L(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function P(){let e=new Date;return e.toISOString().substring(0,10)}class O{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.isIndexedDBAvailable)()&&(0,o.validateIndexedDBOpenable)().then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await S(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return N(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return N(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function L(e){return(0,o.base64urlEncodeWithoutPadding)(JSON.stringify({version:2,heartbeats:e})).length}g(new i.Component("platform-logger",e=>new l(e),"PRIVATE")),g(new i.Component("heartbeat",e=>new A(e),"PRIVATE")),E(u,c,""),E(u,c,"esm2017"),E("fire-js","")}),r.register("4a6xH",function(t,n){e(t.exports,"Component",function(){return s}),e(t.exports,"Provider",function(){return a}),e(t.exports,"ComponentContainer",function(){return l});var i=r("ffjl9");class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new i.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);n===r&&t.resolve(i)}return i}onInit(e,t){var n;let i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);let s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===o?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}}),r.register("ffjl9",function(n,i){e(n.exports,"assert",function(){return a}),e(n.exports,"assertionError",function(){return l}),e(n.exports,"base64",function(){return h}),e(n.exports,"base64Encode",function(){return f}),e(n.exports,"base64urlEncodeWithoutPadding",function(){return p}),e(n.exports,"base64Decode",function(){return m}),e(n.exports,"deepCopy",function(){return g}),e(n.exports,"getDefaultEmulatorHost",function(){return w}),e(n.exports,"getDefaultEmulatorHostnameAndPort",function(){return I}),e(n.exports,"getDefaultAppConfig",function(){return E}),e(n.exports,"getExperimentalSetting",function(){return k}),e(n.exports,"Deferred",function(){return x}),e(n.exports,"createMockUserToken",function(){return T}),e(n.exports,"getUA",function(){return S}),e(n.exports,"isMobileCordova",function(){return N}),e(n.exports,"isBrowserExtension",function(){return R}),e(n.exports,"isReactNative",function(){return A}),e(n.exports,"isIE",function(){return P}),e(n.exports,"isNodeSdk",function(){return O}),e(n.exports,"isIndexedDBAvailable",function(){return L}),e(n.exports,"validateIndexedDBOpenable",function(){return D}),e(n.exports,"FirebaseError",function(){return M}),e(n.exports,"ErrorFactory",function(){return U}),e(n.exports,"jsonEval",function(){return B}),e(n.exports,"stringify",function(){return j}),e(n.exports,"isValidFormat",function(){return z}),e(n.exports,"isAdmin",function(){return W}),e(n.exports,"contains",function(){return H}),e(n.exports,"safeGet",function(){return V}),e(n.exports,"isEmpty",function(){return $}),e(n.exports,"map",function(){return K}),e(n.exports,"deepEqual",function(){return function e(t,n){if(t===n)return!0;let i=Object.keys(t),r=Object.keys(n);for(let s of i){if(!r.includes(s))return!1;let i=t[s],o=n[s];if(G(i)&&G(o)){if(!e(i,o))return!1}else if(i!==o)return!1}for(let e of r)if(!i.includes(e))return!1;return!0}}),e(n.exports,"querystring",function(){return J}),e(n.exports,"querystringDecode",function(){return Y}),e(n.exports,"extractQuerystring",function(){return Q}),e(n.exports,"Sha1",function(){return X}),e(n.exports,"createSubscribe",function(){return Z}),e(n.exports,"errorPrefix",function(){return en}),e(n.exports,"stringToByteArray",function(){return ei}),e(n.exports,"stringLength",function(){return er}),e(n.exports,"getModularInstance",function(){return es});var s=r("4TNnu");let o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw l(t)},l=function(e){return Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:((64512&r)==55296&&i+1<e.length&&(64512&e.charCodeAt(i+1))==56320?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128)}return t},c=function(e){let t=[],n=0,i=0;for(;n<e.length;){let r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){let s=e[n++],o=e[n++],a=e[n++],l=((7&r)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{let s=e[n++],o=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){let r=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=r>>2,c=(3&r)<<4|o>>4,h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[u],n[c],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let t=0;t<e.length;){let r=n[e.charAt(t++)],s=t<e.length,o=s?n[e.charAt(t)]:0;++t;let a=t<e.length,l=a?n[e.charAt(t)]:64;++t;let u=t<e.length,c=u?n[e.charAt(t)]:64;if(++t,null==r||null==o||null==l||null==c)throw new d;let h=r<<2|o>>4;if(i.push(h),64!==l){let e=o<<4&240|l>>2;if(i.push(e),64!==c){let e=l<<6&192|c;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let f=function(e){let t=u(e);return h.encodeByteArray(t,!0)},p=function(e){return f(e).replace(/\./g,"")},m=function(e){try{return h.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g(e){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let i in n)n.hasOwnProperty(i)&&"__proto__"!==i&&(t[i]=e(t[i],n[i]));return t}(void 0,e)}let y=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,_=()=>{if(void 0===s||void 0===s.env)return;let e=void 0;if(e)return JSON.parse(e)},v=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&m(e[1]);return t&&JSON.parse(t)},b=()=>{try{return y()||_()||v()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},w=e=>{var t,n;return null===(n=null===(t=b())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},I=e=>{let t=w(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},E=()=>{var e;return null===(e=b())||void 0===e?void 0:e.config},k=e=>{var t;return null===(t=b())||void 0===t?void 0:t[`_${e}`]};class x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function T(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}function S(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function N(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function R(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function A(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function P(){let e=S();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function L(){try{return"object"==typeof indexedDB}catch(e){return!1}}function D(){return new Promise((e,t)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class M extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?r.replace(F,(e,t)=>{let i=n[t];return null!=i?String(i):`<${t}?>`}):"Error",o=`${this.serviceName}: ${s} (${i}).`,a=new M(i,o,n);return a}}let F=/\{\$([^}]+)}/g;function B(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}let q=function(e){let t={},n={},i={},r="";try{let s=e.split(".");t=B(m(s[0])||""),n=B(m(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:i,signature:r}},z=function(e){let t=q(e),n=t.claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},W=function(e){let t=q(e).claims;return"object"==typeof t&&!0===t.admin};function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function $(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){let i={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function G(e){return null!==e&&"object"==typeof e}function J(e){let t=[];for(let[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Y(e){let t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){let[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}}),t}function Q(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class X{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){let n,i;t||(t=0);let r=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)r[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)r[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=r[e-3]^r[e-8]^r[e-14]^r[e-16];r[e]=(t<<1|t>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^o&(a^l),i=1518500249):(n=o^a^l,i=1859775393):e<60?(n=o&a|l&(o|a),i=2400959708):(n=o^a^l,i=3395469782);let t=(s<<5|s>>>27)+n+u+i+r[e]&4294967295;u=l,l=a,a=(o<<30|o>>>2)&4294967295,o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,i=0,r=this.buf_,s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<t;)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let i=24;i>=0;i-=8)e[n]=this.chain_[t]>>i&255,++n;return e}}function Z(e,t){let n=new ee(e,t);return n.subscribe.bind(n)}class ee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(i=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(i.next=et),void 0===i.error&&(i.error=et),void 0===i.complete&&(i.complete=et);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}}),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function et(){}function en(e,t){return`${e} failed: ${t} argument `}let ei=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){let t=r-55296;a(++i<e.length,"Surrogate pair missing trail surrogate.");let n=e.charCodeAt(i)-56320;r=65536+(t<<10)+n}r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return t},er=function(e){let t=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function es(e){return e&&e._delegate?e._delegate:e}}),r.register("4TNnu",function(e,t){var n,i,r,s=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var u=[],c=!1,h=-1;function d(){c&&r&&(c=!1,r.length?u=r.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=l(d);c=!0;for(var t=u.length;t;){for(r=u,u=[];++h<t;)r&&r[h].run();h=-1,t=u.length}r=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||l(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}),r.register("7vF8m",function(t,n){var i,r;e(t.exports,"LogLevel",function(){return i}),e(t.exports,"Logger",function(){return c}),e(t.exports,"setLogLevel",function(){return h}),e(t.exports,"setUserLogHandler",function(){return d});let s=[];(r=i||(i={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";let o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,l={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),r=l[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=u,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function h(e){s.forEach(t=>{t.setLogLevel(e)})}function d(e,t){for(let n of s){let r=null;t&&t.level&&(r=o[t.level]),null===e?n.userLogHandler=null:n.userLogHandler=(t,n,...s)=>{let o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}}),r.register("cCiiD",function(t,n){e(t.exports,"openDB",function(){return s});var i=r("ekHjI");function s(e,t,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){let a=indexedDB.open(e,t),l=(0,i.w)(a);return r&&a.addEventListener("upgradeneeded",e=>{r((0,i.w)(a.result),e.oldVersion,e.newVersion,(0,i.w)(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),l.then(e=>{o&&e.addEventListener("close",()=>o()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}let o=["get","getKey","getAll","getAllKeys","count"],a=["put","add","delete","clear"],l=new Map;function u(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(l.get(t))return l.get(t);let n=t.replace(/FromIndex$/,""),i=t!==n,r=a.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||o.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,r?"readwrite":"readonly"),o=s.store;return i&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),r&&s.done]))[0]};return l.set(t,s),s}(0,i.r)(e=>({...e,get:(t,n,i)=>u(t,n)||e.get(t,n,i),has:(t,n)=>!!u(t,n)||e.has(t,n)}))}),r.register("ekHjI",function(t,n){let i,r;e(t.exports,"w",function(){return f}),e(t.exports,"r",function(){return d});let s=(e,t)=>t.some(t=>e instanceof t),o=new WeakMap,a=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){h=e(h)}function f(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(f(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),c.set(t,e),t}(e);if(u.has(e))return u.get(e);let n="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(o.get(this))}:function(...e){return f(t.apply(p(this),e))}:function(e,...n){let i=t.call(p(this),e,...n);return l.set(i,e.sort?e.sort():[e]),f(i)}:(t instanceof IDBTransaction&&function(e){if(a.has(e))return;let t=new Promise((t,n)=>{let i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(t),s(t,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,h):t;return n!==e&&(u.set(e,n),c.set(n,e)),n}let p=e=>c.get(e)}),r.register("gZ6M0",function(t,n){e(t.exports,"onCloseClick",function(){return u});var i=r("hele7");let s=document.querySelector(".modal-close"),o=document.querySelector(".modal__auth"),a=document.querySelectorAll(".js-signup");for(let e of a)e.addEventListener("click",l);function l(e){e.preventDefault(),(0,i.logInBtn).addEventListener("click",i.onSignSwitherClick),(0,i.logUpBtn).addEventListener("click",i.onSignSwitherClick),(0,i.form).addEventListener("submit",i.formSubmit),o.style.opacity=1,o.style.visibility="visible",s.addEventListener("click",u),window.addEventListener("keydown",u)}function u(e){e&&"keydown"===e.type&&"Escape"!==e.code||((0,i.logInBtn).removeEventListener("click",i.onSignSwitherClick),(0,i.logUpBtn).removeEventListener("click",i.onSignSwitherClick),(0,i.form).removeEventListener("submit",i.formSubmit),o.style.opacity=0,o.style.visibility="hidden",s.removeEventListener("click",u),window.removeEventListener("keydown",u),location.reload())}let c=document.querySelector("#password"),h=document.querySelector(".password-checkbox");h.addEventListener("change",()=>{"password"===c.getAttribute("type")?c.setAttribute("type","text"):c.setAttribute("type","password")})}),r.register("hele7",function(t,n){e(t.exports,"form",function(){return s}),e(t.exports,"logInBtn",function(){return o}),e(t.exports,"logUpBtn",function(){return a}),e(t.exports,"formSubmit",function(){return c}),e(t.exports,"onSignSwitherClick",function(){return h});var i=r("bMZn5");let s=document.querySelector(".signIn-form"),o=document.querySelector(".signIn"),a=document.querySelector(".signUp"),l=document.querySelector(".SignUpBtn"),u=document.querySelector(".input-name");function c(e){switch(e.preventDefault(),e.currentTarget.dataset.action){case"up":(0,i.onSubmitReg)();break;case"in":(0,i.onSignInClick)()}}function h(e){var t;switch(t=e.currentTarget.dataset.action,l.innerText=`sign ${t}`,s.dataset.action=t,console.dir(u),e.currentTarget.dataset.action){case"in":u.required=!1,u.classList.add("visually-hidden"),a.classList.remove("active"),o.classList.add("active");break;case"up":u.required=!0,u.classList.remove("visually-hidden"),a.classList.add("active"),o.classList.remove("active")}}}),r.register("dSs1Y",function(e,n){var i,r;i=void 0!==t?t:"undefined"!=typeof window?window:e.exports,r=function(e){if(void 0===e&&void 0===e.document)return!1;var t,n={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},i={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},r=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+"\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation")},s=function(t){return t||(t="head"),null!==e.document[t]||(r('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},o=function(t,n){if(!s("head"))return!1;if(null!==t()&&!e.document.getElementById(n)){var i=e.document.createElement("style");i.id=n,i.innerHTML=t(),e.document.head.appendChild(i)}},a=function(){var e={},t=!1,n=0;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);n<arguments.length;n++)!function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t&&"[object Object]"===Object.prototype.toString.call(n[i])?e[i]=a(e[i],n[i]):e[i]=n[i])}(arguments[n]);return e},l=function(t){var n=e.document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""},u=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},c=function(o,u,c,h,f){if(!s("body"))return!1;t||d.Loading.init({});var p=a(!0,t,{});if("object"==typeof u&&!Array.isArray(u)||"object"==typeof c&&!Array.isArray(c)){var m={};"object"==typeof u?m=u:"object"==typeof c&&(m=c),t=a(!0,t,m)}var g="";if("string"==typeof u&&u.length>0&&(g=u),h){g=g.length>t.messageMaxLength?l(g).toString().substring(0,t.messageMaxLength)+"...":l(g).toString();var y,_,v,b,w,I,E,k,x,T,S,N,R,A,P="";g.length>0&&(P='<p id="'+t.messageID+'" class="nx-loading-message" style="color:'+t.messageColor+";font-size:"+t.messageFontSize+';">'+g+"</p>"),t.cssAnimation||(t.cssAnimationDuration=0);var O="";if(o===n.Standard)y=t.svgSize,_=t.svgColor,y||(y="60px"),_||(_="#32c682"),O='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+_+'" width="'+y+'" height="'+y+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';else if(o===n.Hourglass)v=t.svgSize,b=t.svgColor,v||(v="60px"),b||(b="#32c682"),O='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+b+'" width="'+v+'" height="'+v+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';else if(o===n.Circle)w=t.svgSize,I=t.svgColor,w||(w="60px"),I||(I="#32c682"),O='<svg xmlns="http://www.w3.org/2000/svg" width="'+w+'" height="'+w+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+w+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+w+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+I+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';else if(o===n.Arrows)E=t.svgSize,k=t.svgColor,E||(E="60px"),k||(k="#32c682"),O='<svg xmlns="http://www.w3.org/2000/svg" fill="'+k+'" width="'+E+'" height="'+E+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';else if(o===n.Dots)x=t.svgSize,T=t.svgColor,x||(x="60px"),T||(T="#32c682"),O='<svg xmlns="http://www.w3.org/2000/svg" fill="'+T+'" width="'+x+'" height="'+x+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';else if(o===n.Pulse)S=t.svgSize,N=t.svgColor,S||(S="60px"),N||(N="#32c682"),O='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+N+'" width="'+S+'" height="'+S+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';else if(o===n.Custom&&null!==t.customSvgCode&&null===t.customSvgUrl)O=t.customSvgCode||"";else if(o===n.Custom&&null!==t.customSvgUrl&&null===t.customSvgCode)O='<img class="nx-custom-loading-icon" width="'+t.svgSize+'" height="'+t.svgSize+'" src="'+t.customSvgUrl+'" alt="Notiflix">';else{if(o===n.Custom&&(null===t.customSvgUrl||null===t.customSvgCode))return r('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;(R=t.svgSize)||(R="60px"),O='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+R+'" height="'+R+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:#f8f8f8;stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+(A="#32c682")+'" stroke="'+A+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'}var L=parseInt((t.svgSize||"").replace(/[^0-9]/g,"")),D=e.innerWidth,M=L>=D?D-40+"px":L+"px",U='<div style="width:'+M+"; height:"+M+';" class="'+t.className+"-icon"+(g.length>0?" nx-with-message":"")+'">'+O+"</div>",F=e.document.createElement("div");F.id=i.ID,F.className=t.className+(t.cssAnimation?" nx-with-animation":"")+(t.clickToClose?" nx-loading-click-to-close":""),F.style.zIndex=t.zindex,F.style.background=t.backgroundColor,F.style.animationDuration=t.cssAnimationDuration+"ms",F.style.fontFamily='"'+t.fontFamily+'", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',F.style.display="flex",F.style.flexWrap="wrap",F.style.flexDirection="column",F.style.alignItems="center",F.style.justifyContent="center",t.rtl&&(F.setAttribute("dir","rtl"),F.classList.add("nx-rtl-on")),F.innerHTML=U+P,!e.document.getElementById(F.id)&&(e.document.body.appendChild(F),t.clickToClose&&e.document.getElementById(F.id).addEventListener("click",function(){F.classList.add("nx-remove");var e=setTimeout(function(){null!==F.parentNode&&(F.parentNode.removeChild(F),clearTimeout(e))},t.cssAnimationDuration)}))}else if(e.document.getElementById(i.ID))var B=e.document.getElementById(i.ID),j=setTimeout(function(){B.classList.add("nx-remove");var e=setTimeout(function(){null!==B.parentNode&&(B.parentNode.removeChild(B),clearTimeout(e))},t.cssAnimationDuration);clearTimeout(j)},f);t=a(!0,t,p)},h=function(n){"string"!=typeof n&&(n="");var s=e.document.getElementById(i.ID);if(s){if(n.length>0){n=n.length>t.messageMaxLength?l(n).substring(0,t.messageMaxLength)+"...":l(n);var o=s.getElementsByTagName("p")[0];if(o)o.innerHTML=n;else{var a=e.document.createElement("p");a.id=t.messageID,a.className="nx-loading-message nx-loading-message-new",a.style.color=t.messageColor,a.style.fontSize=t.messageFontSize,a.innerHTML=n,s.appendChild(a)}}else r("Where is the new message?")}},d={Loading:{init:function(e){t=a(!0,i,e),o(u,"NotiflixLoadingInternalCSS")},merge:function(e){if(!t)return r("You have to initialize the Loading module before call Merge function."),!1;t=a(!0,t,e)},standard:function(e,t){c(n.Standard,e,t,!0,0)},hourglass:function(e,t){c(n.Hourglass,e,t,!0,0)},circle:function(e,t){c(n.Circle,e,t,!0,0)},arrows:function(e,t){c(n.Arrows,e,t,!0,0)},dots:function(e,t){c(n.Dots,e,t,!0,0)},pulse:function(e,t){c(n.Pulse,e,t,!0,0)},custom:function(e,t){c(n.Custom,e,t,!0,0)},notiflix:function(e,t){c(n.Notiflix,e,t,!0,0)},remove:function(e){"number"!=typeof e&&(e=0),c(null,null,null,!1,e)},change:function(e){h(e)}}};return"object"==typeof e.Notiflix?a(!0,e.Notiflix,{Loading:d.Loading}):{Loading:d.Loading}},"function"==typeof define&&define.amd?define([],function(){return r(i)}):"object"==typeof e.exports?e.exports=r(i):i.Notiflix=r(i)}),r.register("gKkQl",function(t,n){e(t.exports,"initializeApp",function(){return r("ix4Jr").initializeApp}),e(t.exports,"registerVersion",function(){return r("ix4Jr").registerVersion}),(0,r("ix4Jr").registerVersion)("firebase","10.1.0","app")}),r.register("eyjy7",function(t,n){e(t.exports,"createUserWithEmailAndPassword",function(){return r("byAmK").a8}),e(t.exports,"getAuth",function(){return r("byAmK").o}),e(t.exports,"onAuthStateChanged",function(){return r("byAmK").x}),e(t.exports,"signInWithEmailAndPassword",function(){return r("byAmK").a9}),e(t.exports,"signOut",function(){return r("byAmK").B}),r("1iO0g")}),r.register("1iO0g",function(t,n){e(t.exports,"createUserWithEmailAndPassword",function(){return r("byAmK").a8}),e(t.exports,"getAuth",function(){return r("byAmK").o}),e(t.exports,"onAuthStateChanged",function(){return r("byAmK").x}),e(t.exports,"signInWithEmailAndPassword",function(){return r("byAmK").a9}),e(t.exports,"signOut",function(){return r("byAmK").B}),r("byAmK"),r("ffjl9"),r("ix4Jr"),r("7vF8m"),r("4a6xH")}),r.register("byAmK",function(t,n){e(t.exports,"a8",function(){return e1}),e(t.exports,"a9",function(){return e2}),e(t.exports,"x",function(){return e3}),e(t.exports,"B",function(){return e5}),e(t.exports,"o",function(){return t8});var i,s=r("ffjl9"),o=r("ix4Jr"),a=r("l73V3"),l=r("7vF8m"),u=r("4a6xH");function c(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let h=new s.ErrorFactory("auth","Firebase",c()),d=new l.Logger("@firebase/auth");function f(e,...t){d.logLevel<=l.LogLevel.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw g(e,...t)}function m(e,...t){return g(e,...t)}function g(e,...t){if("string"!=typeof e){let n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return h.create(e,...t)}function y(e,t,...n){if(!e)throw g(t,...n)}function _(e){let t="INTERNAL ASSERTION FAILED: "+e;throw f(t),Error(t)}function v(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function b(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class w{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||_("Short delay should be less than long delay!"),this.isMobile=(0,s.isMobileCordova)()||(0,s.isReactNative)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===b()||"https:"===b()||(0,s.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function I(e,t){e.emulator||_("Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class E{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},x=new w(3e4,6e4);function T(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function S(e,t,n,i,r={}){return N(e,r,async()=>{let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});let a=(0,s.querystring)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),E.fetch()(A(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function N(e,t,n){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},k),t);try{let t=new P(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let o=await r.json();if("needConfirmation"in o)throw O(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{let t=r.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw O(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw O(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw O(e,"user-disabled",o);let l=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){let i=Object.assign(Object.assign({},c()),{[t]:n}),r=new s.ErrorFactory("auth","Firebase",i);return r.create(t,{appName:e.name})}(e,l,a);p(e,l)}}catch(t){if(t instanceof s.FirebaseError)throw t;p(e,"network-request-failed",{message:String(t)})}}async function R(e,t,n,i,r={}){let s=await S(e,t,n,i,r);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{_serverResponse:s}),s}function A(e,t,n,i){let r=`${t}${n}?${i}`;return e.config.emulator?I(e.config,r):`${e.config.apiScheme}://${r}`}class P{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"network-request-failed")),x.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function O(e,t,n){let i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=m(e,t,i);return r.customData._tokenResponse=n,r}async function L(e,t){return S(e,"POST","/v1/accounts:delete",t)}async function D(e,t){return S(e,"POST","/v1/accounts:lookup",t)}function M(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function U(e,t=!1){let n=(0,s.getModularInstance)(e),i=await n.getIdToken(t),r=B(i);y(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o="object"==typeof r.firebase?r.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:M(F(r.auth_time)),issuedAtTime:M(F(r.iat)),expirationTime:M(F(r.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}function F(e){return 1e3*Number(e)}function B(e){let[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return f("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,s.base64Decode)(n);if(!e)return f("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return f("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function j(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof s.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function W(e){var t;let n=e.auth,i=await e.getIdToken(),r=await j(e,D(n,{idToken:i}));y(null==r?void 0:r.users.length,n,"internal-error");let s=r.users[0];e._notifyReloadListener(s);let o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,a.__rest)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],l=function(e,t){let n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),u=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null==l?void 0:l.length),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new z(s.createdAt,s.lastLoginAt),isAnonymous:!!u&&c};Object.assign(e,h)}async function H(e){let t=(0,s.getModularInstance)(e);await W(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}async function V(e,t){let n=await N(e,{},async()=>{let n=(0,s.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=A(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=B(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(y(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:i,expiresIn:r}=await V(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new $;return n&&(y("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(y("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(y("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return _("not implemented")}}function K(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class G{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=(0,a.__rest)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new z(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await j(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return U(this,e)}reload(){return H(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new G(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await W(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await j(this,L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,o,a,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,_=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:I,stsTokenManager:E}=t;y(v&&E,e,"internal-error");let k=$.fromJSON(this.name,E);y("string"==typeof v,e,"internal-error"),K(c,e.name),K(h,e.name),y("boolean"==typeof b,e,"internal-error"),y("boolean"==typeof w,e,"internal-error"),K(d,e.name),K(f,e.name),K(p,e.name),K(m,e.name),K(g,e.name),K(_,e.name);let x=new G({uid:v,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:_});return I&&Array.isArray(I)&&(x.providerData=I.map(e=>Object.assign({},e))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t,n=!1){let i=new $;i.updateFromServerResponse(t);let r=new G({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await W(r),r}}let J=new Map;function Y(e){e instanceof Function||_("Expected a class definition");let t=J.get(e);return t?t instanceof e||_("Instance stored in cache mismatched with class"):(t=new e,J.set(e,t)),t}class Q{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function X(e,t,n){return`firebase:${e}:${t}:${n}`}Q.type="NONE";class Z{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:i,name:r}=this.auth;this.fullUserKey=X(this.userKey,i.apiKey,r),this.fullPersistenceKey=X("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?G._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Z(Y(Q),e,n);let i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),r=i[0]||Y(Q),s=X(n,e.config.apiKey,e.name),o=null;for(let n of t)try{let t=await n._get(s);if(t){let i=G._fromJSON(e,t);n!==r&&(o=i),r=n;break}}catch(e){}let a=i.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&a.length&&(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch(e){}}))),new Z(r,e,n)}}function ee(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(er(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(et(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eo(t))return"Blackberry";if(ea(t))return"Webos";if(en(t))return"Safari";if((t.includes("chrome/")||ei(t))&&!t.includes("edge/"))return"Chrome";if(es(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function et(e=(0,s.getUA)()){return/firefox\//i.test(e)}function en(e=(0,s.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ei(e=(0,s.getUA)()){return/crios\//i.test(e)}function er(e=(0,s.getUA)()){return/iemobile/i.test(e)}function es(e=(0,s.getUA)()){return/android/i.test(e)}function eo(e=(0,s.getUA)()){return/blackberry/i.test(e)}function ea(e=(0,s.getUA)()){return/webos/i.test(e)}function el(e=(0,s.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function eu(e=(0,s.getUA)()){return el(e)||es(e)||ea(e)||eo(e)||/windows phone/i.test(e)||er(e)}function ec(e,t=[]){let n;switch(e){case"Browser":n=ee((0,s.getUA)());break;case"Worker":n=`${ee((0,s.getUA)())}-${e}`;break;default:n=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${i}`}async function eh(e,t){return S(e,"GET","/v2/recaptchaConfig",T(e,t))}function ed(e){return void 0!==e&&void 0!==e.enterprise}class ef{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function ep(e){return new Promise((t,n)=>{var i,r;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=m("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(r=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==r?r:document).appendChild(s)})}function em(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eg{constructor(e){this.type="recaptcha-enterprise",this.auth=eb(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{eh(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0===i.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new ef(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function i(t,n,i){let r=window.grecaptcha;ed(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{n(this.auth).then(n=>{if(!t&&ed(window.grecaptcha))i(n,e,r);else{if("undefined"==typeof window){r(Error("RecaptchaVerifier is only supported in browser"));return}ep("https://www.google.com/recaptcha/enterprise.js?render="+n).then(()=>{i(n,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ey(e,t,n,i=!1){let r;let s=new eg(e);try{r=await s.verify(n)}catch(e){r=await s.verify(n,!0)}let o=Object.assign({},t);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class e_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,i)=>{try{let i=e(t);n(i)}catch(e){i(e)}});n.onAbort=t,this.queue.push(n);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class ev{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ew(this),this.idTokenSubscription=new ew(this),this.beforeStateQueue=new e_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Y(t)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Z.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==o?void 0:o.user)&&(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await W(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?(0,s.getModularInstance)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Y(e))})}async initializeRecaptchaConfig(){let e=await eh(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new ef(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){let e=new eg(this);e.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Y(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await Z.create(this,[Y(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};let r="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return(y(s,this,"internal-error"),s.then(()=>r(this.currentUser)),"function"==typeof t)?e.addObserver(t,n,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ec(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){d.logLevel<=l.LogLevel.WARN&&d.warn(`Auth (${o.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function eb(e){return(0,s.getModularInstance)(e)}class ew{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.createSubscribe)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eI(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eE(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class ek{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}async function eC(e,t){return S(e,"POST","/v1/accounts:update",t)}async function ex(e,t){return R(e,"POST","/v1/accounts:signInWithPassword",T(e,t))}async function eT(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",T(e,t))}async function eS(e,t){return R(e,"POST","/v1/accounts:signInWithEmailLink",T(e,t))}class eN extends ek{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new eN(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new eN(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t||!t.emailPasswordEnabled)return ex(e,n).catch(async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let t=await ey(e,n,"signInWithPassword");return ex(e,t)}});{let t=await ey(e,n,"signInWithPassword");return ex(e,t)}case"emailLink":return eT(e,{email:this._email,oobCode:this._password});default:p(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eC(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return eS(e,{idToken:t,email:this._email,oobCode:this._password});default:p(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eR(e,t){return R(e,"POST","/v1/accounts:signInWithIdp",T(e,t))}class eA extends ek{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=(0,a.__rest)(t,["providerId","signInMethod"]);if(!n||!i)return null;let s=new eA(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return eR(e,t)}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eR(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eR(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.querystring)(t)}return e}}async function eP(e,t){return S(e,"POST","/v1/accounts:sendVerificationCode",T(e,t))}async function eO(e,t){return R(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,t))}async function eL(e,t){let n=await R(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,t));if(n.temporaryProof)throw O(e,"account-exists-with-different-credential",n);return n}let eD={USER_NOT_FOUND:"user-not-found"};async function eM(e,t){let n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return R(e,"POST","/v1/accounts:signInWithPhoneNumber",T(e,n),eD)}class eU extends ek{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eU({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eU({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eO(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eL(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eM(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new eU({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class eF{constructor(e){var t,n,i,r,o,a;let l=(0,s.querystringDecode)((0,s.extractQuerystring)(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(r=l.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=(0,s.querystringDecode)((0,s.extractQuerystring)(e)).link,n=t?(0,s.querystringDecode)((0,s.extractQuerystring)(t)).deep_link_id:null,i=(0,s.querystringDecode)((0,s.extractQuerystring)(e)).deep_link_id,r=i?(0,s.querystringDecode)((0,s.extractQuerystring)(i)).link:null;return r||i||n||t||e}(e);try{return new eF(t)}catch(e){return null}}}class eB{constructor(){this.providerId=eB.PROVIDER_ID}static credential(e,t){return eN._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=eF.parseLink(t);return y(n,"argument-error"),eN._fromEmailAndCode(e,n.code,n.tenantId)}}eB.PROVIDER_ID="password",eB.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eB.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ej{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eq extends ej{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ez extends eq{constructor(){super("facebook.com")}static credential(e){return eA._fromParams({providerId:ez.PROVIDER_ID,signInMethod:ez.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ez.credentialFromTaggedObject(e)}static credentialFromError(e){return ez.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ez.credential(e.oauthAccessToken)}catch(e){return null}}}ez.FACEBOOK_SIGN_IN_METHOD="facebook.com",ez.PROVIDER_ID="facebook.com";class eW extends eq{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eA._fromParams({providerId:eW.PROVIDER_ID,signInMethod:eW.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eW.credentialFromTaggedObject(e)}static credentialFromError(e){return eW.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return eW.credential(t,n)}catch(e){return null}}}eW.GOOGLE_SIGN_IN_METHOD="google.com",eW.PROVIDER_ID="google.com";class eH extends eq{constructor(){super("github.com")}static credential(e){return eA._fromParams({providerId:eH.PROVIDER_ID,signInMethod:eH.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eH.credentialFromTaggedObject(e)}static credentialFromError(e){return eH.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eH.credential(e.oauthAccessToken)}catch(e){return null}}}eH.GITHUB_SIGN_IN_METHOD="github.com",eH.PROVIDER_ID="github.com";class eV extends eq{constructor(){super("twitter.com")}static credential(e,t){return eA._fromParams({providerId:eV.PROVIDER_ID,signInMethod:eV.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eV.credentialFromTaggedObject(e)}static credentialFromError(e){return eV.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return eV.credential(t,n)}catch(e){return null}}}async function e$(e,t){return R(e,"POST","/v1/accounts:signUp",T(e,t))}eV.TWITTER_SIGN_IN_METHOD="twitter.com",eV.PROVIDER_ID="twitter.com";class eK{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){let r=await G._fromIdTokenResponse(e,n,i),s=eG(n),o=new eK({user:r,providerId:s,_tokenResponse:n,operationType:t});return o}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);let i=eG(n);return new eK({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function eG(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class eJ extends s.FirebaseError{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,eJ.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new eJ(e,t,n,i)}}function eY(e,t,n,i){let r="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return r.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw eJ._fromErrorAndOperation(e,n,t,i);throw n})}async function eQ(e,t,n=!1){let i=await j(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return eK._forOperation(e,"link",i)}async function eX(e,t,n=!1){let{auth:i}=e,r="reauthenticate";try{let s=await j(e,eY(i,r,t,e),n);y(s.idToken,i,"internal-error");let o=B(s.idToken);y(o,i,"internal-error");let{sub:a}=o;return y(e.uid===a,i,"user-mismatch"),eK._forOperation(e,r,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&p(i,"user-mismatch"),e}}async function eZ(e,t,n=!1){let i="signIn",r=await eY(e,i,t),s=await eK._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function e0(e,t){return eZ(eb(e),t)}async function e1(e,t,n){var i;let r;let s=eb(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};if(null===(i=s._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled){let e=await ey(s,o,"signUpPassword");r=e$(s,e)}else r=e$(s,o).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");let e=await ey(s,o,"signUpPassword");return e$(s,e)}});let a=await r.catch(e=>Promise.reject(e)),l=await eK._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function e2(e,t,n){return e0((0,s.getModularInstance)(e),eB.credential(t,n))}function e3(e,t,n,i){return(0,s.getModularInstance)(e).onAuthStateChanged(t,n,i)}function e5(e){return(0,s.getModularInstance)(e).signOut()}new WeakMap;let e4="__sak";class e8{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(e4,"1"),this.storage.removeItem(e4),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class e6 extends e8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let e=(0,s.getUA)();return en(e)||el(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=eu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let i=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);(0,s.isIE)()&&10===document.documentMode&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e6.type="LOCAL";class e9 extends e8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}e9.type="SESSION";class e7{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new e7(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:i}=e.data,r=this.handlersMap[n];if(!(null==r?void 0:r.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(r).map(async t=>t(e.origin,i)),o=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function te(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}e7.receivers=[];class tt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let i,r;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((o,a)=>{let l=te("",20);s.port1.start();let u=setTimeout(()=>{a(Error("unsupported_event"))},n);r={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(u),clearTimeout(i),a(Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}}function tn(){return window}function ti(){return void 0!==tn().WorkerGlobalScope&&"function"==typeof tn().importScripts}async function tr(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}let ts="firebaseLocalStorageDb",to="firebaseLocalStorage",ta="fbase_key";class tl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tu(e,t){return e.transaction([to],t?"readwrite":"readonly").objectStore(to)}function tc(){let e=indexedDB.open(ts,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(to,{keyPath:ta})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(to)?t(n):(n.close(),await function(){let e=indexedDB.deleteDatabase(ts);return new tl(e).toPromise()}(),t(await tc()))})})}async function th(e,t,n){let i=tu(e,!0).put({[ta]:t,value:n});return new tl(i).toPromise()}async function td(e,t){let n=tu(e,!1).get(t),i=await new tl(n).toPromise();return void 0===i?null:i.value}function tf(e,t){let n=tu(e,!0).delete(t);return new tl(n).toPromise()}class tp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tc()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ti()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e7._getInstance(ti()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tr(),!this.activeServiceWorker)return;this.sender=new tt(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tc();return await th(e,e4,"1"),await tf(e,e4),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>th(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>td(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tf(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=tu(e,!1).getAll();return new tl(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;for(let{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function tm(e,t,n){var i,r,s;let o=await n.verify();try{let a;if(y("string"==typeof o,e,"argument-error"),y("recaptcha"===n.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){let t=a.session;if("phoneNumber"in a){y("enroll"===t.type,e,"internal-error");let n=await (r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}},S(e,"POST","/v2/accounts/mfaEnrollment:start",T(e,r)));return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");let n=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid;y(n,e,"missing-multi-factor-info");let r=await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:o}},S(e,"POST","/v2/accounts/mfaSignIn:start",T(e,s)));return r.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await eP(e,{phoneNumber:a.phoneNumber,recaptchaToken:o});return t}}finally{n._reset()}}tp.type="LOCAL",em("rcb"),new w(3e4,6e4);class tg{constructor(e){this.providerId=tg.PROVIDER_ID,this.auth=eb(e)}verifyPhoneNumber(e,t){return tm(this.auth,e,(0,s.getModularInstance)(t))}static credential(e,t){return eU._fromVerification(e,t)}static credentialFromResult(e){return tg.credentialFromTaggedObject(e)}static credentialFromError(e){return tg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?eU._fromTokenResponse(t,n):null}}tg.PROVIDER_ID="phone",tg.PHONE_SIGN_IN_METHOD="phone";class ty extends ek{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eR(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eR(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eR(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t_(e){return eZ(e.auth,new ty(e),e.bypassAuthState)}function tv(e){let{auth:t,user:n}=e;return y(n,t,"internal-error"),eX(n,new ty(e),e.bypassAuthState)}async function tb(e){let{auth:t,user:n}=e;return y(n,t,"internal-error"),eQ(n,new ty(e),e.bypassAuthState)}class tw{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=e;if(s){this.reject(s);return}let a={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t_;case"linkViaPopup":case"linkViaRedirect":return tb;case"reauthViaPopup":case"reauthViaRedirect":return tv;default:p(this.auth,"internal-error")}}resolve(e){this.pendingPromise||_("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||_("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let tI=new w(2e3,1e4);class tE extends tw{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,tE.currentPopupAction&&tE.currentPopupAction.cancel(),tE.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||_("Popup operations only handle one event");let e=te();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(m(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tE.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tI.get())};e()}}tE.currentPopupAction=null;let tk=new Map;class tC extends tw{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=tk.get(this.auth._key());if(!e){try{let t=await tx(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}tk.set(this.auth._key(),e)}return this.bypassAuthState||tk.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(e,t){let n=X("pendingRedirect",t.config.apiKey,t.name),i=Y(e._redirectPersistence);if(!await i._isAvailable())return!1;let r=await i._get(n)==="true";return await i._remove(n),r}function tT(e,t){tk.set(e._key(),t)}async function tS(e,t,n=!1){let i=eb(e),r=t?Y(t):(y(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver),s=new tC(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tA(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tA(e)){let i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tR(e))}saveEventToCache(e){this.cachedEventUids.add(tR(e)),this.lastProcessedEventTime=Date.now()}}function tR(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tA({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function tP(e,t={}){return S(e,"GET","/v1/projects",t)}let tO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tL=/^https?/;async function tD(e){if(e.config.emulator)return;let{authorizedDomains:t}=await tP(e);for(let e of t)try{if(function(e){let t=v(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){let r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!tL.test(n))return!1;if(tO.test(e))return i===e;let r=e.replace(/\./g,"\\."),s=RegExp("^(.+\\."+r+"|"+r+")$","i");return s.test(i)}(e))return}catch(e){}p(e,"unauthorized-domain")}let tM=new w(3e4,6e4);function tU(){let e=tn().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let tF=null,tB=new w(5e3,15e3),tj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function tz(e){let t=await (tF=tF||new Promise((t,n)=>{var i,r,s;function o(){tU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tU(),n(m(e,"network-request-failed"))},timeout:tM.get()})}if(null===(r=null===(i=tn().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else if(null===(s=tn().gapi)||void 0===s?void 0:s.load)o();else{let t=em("iframefcb");return tn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},ep(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw tF=null,e})),n=tn().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;y(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?I(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},r=tq.get(e.config.apiHost);r&&(i.eid=r);let a=e._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${(0,s.querystring)(i).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tj,dontclear:!0},t=>new Promise(async(n,i)=>{await t.restyle({setHideOnLeave:!1});let r=m(e,"network-request-failed"),s=tn().setTimeout(()=>{i(r)},tB.get());function o(){tn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{i(r)})}))}let tW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let tV=encodeURIComponent("fac");async function t$(e,t,n,i,r,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:o.SDK_VERSION,eventId:r};if(t instanceof ej)for(let[n,i]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.isEmpty)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(a||{})))l[n]=i;if(t instanceof eq){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let u=await e._getAppCheckToken(),c=u?`#${tV}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?I(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.querystring)(l).slice(1)}${c}`}let tK="webStorageSupport",tG=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e9,this._completeRedirectFn=tS,this._overrideRedirectResult=tT}async _openPopup(e,t,n,i){var r;(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager)||_("_initialize() not called before _openPopup()");let o=await t$(e,t,n,v(),i);return function(e,t,n,i=500,r=600){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString(),l="",u=Object.assign(Object.assign({},tW),{width:i.toString(),height:r.toString(),top:o,left:a}),c=(0,s.getUA)().toLowerCase();n&&(l=ei(c)?"_blank":n),et(c)&&(t=t||"http://localhost",u.scrollbars="yes");let h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.getUA)()){var t;return el(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",l),new tH(null);let d=window.open(t||"",l,h);y(d,e,"popup-blocked");try{d.focus()}catch(e){}return new tH(d)}(e,o,te())}async _openRedirect(e,t,n,i){await this._originValidation(e);let r=await t$(e,t,n,v(),i);return tn().location.href=r,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(n||_("If manager is not set, promise should be"),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await tz(e),n=new tN(e);return t.register("authEvent",t=>{y(null==t?void 0:t.authEvent,e,"invalid-auth-event");let i=n.onEvent(t.authEvent);return{status:i?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){let n=this.iframes[e._key()];n.send(tK,{type:tK},n=>{var i;let r=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[tK];void 0!==r&&t(!!r),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eu()||en()||el()}};class tJ{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _("unexpected MultiFactorSessionType")}}}class tY extends tJ{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new tY(e)}_finalizeEnroll(e,t,n){return S(e,"POST","/v2/accounts/mfaEnrollment:finalize",T(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return S(e,"POST","/v2/accounts/mfaSignIn:finalize",T(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class tQ extends tJ{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new tQ(t,void 0,e)}static _fromEnrollmentId(e,t){return new tQ(t,e)}async _finalizeEnroll(e,t,n){return y(void 0!==this.secret,e,"argument-error"),S(e,"POST","/v2/accounts/mfaEnrollment:finalize",T(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){y(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return S(e,"POST","/v2/accounts/mfaSignIn:finalize",T(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class tX{constructor(e,t,n,i,r,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=r}static _fromStartTotpMfaEnrollmentResponse(e,t){return new tX(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let i=!1;return(tZ(e)||tZ(t))&&(i=!0),i&&(tZ(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),tZ(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function tZ(e){return void 0===e||(null==e?void 0:e.length)===0}var t0="@firebase/auth",t1="1.1.0";class t2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let t3=(0,s.getExperimentalSetting)("authIdTokenMaxAge")||300,t5=null,t4=e=>async t=>{let n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>t3)return;let r=null==n?void 0:n.token;t5!==r&&(t5=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function t8(e=(0,o.getApp)()){let t=(0,o._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,o._getProvider)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),i=n.getOptions();if((0,s.deepEqual)(i,null!=t?t:{}))return e;p(e,"already-initialized")}let i=n.initialize({options:t});return i}(e,{popupRedirectResolver:tG,persistence:[tp,e6,e9]}),i=(0,s.getExperimentalSetting)("authTokenSyncURL");if(i){let e=t4(i);(0,s.getModularInstance)(n).beforeAuthStateChanged(e,()=>e(n.currentUser)),(0,s.getModularInstance)(n).onIdTokenChanged(t=>e(t),void 0,void 0)}let r=(0,s.getDefaultEmulatorHost)("auth");return r&&function(e,t,n){let i=eb(e);y(i._canInitEmulator,i,"emulator-config-failed"),y(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!(null==n?void 0:n.disableWarnings),s=eI(t),{host:o,port:a}=function(e){let t=eI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let e=r[1];return{host:e,port:eE(i.substr(e.length+1))}}{let[e,t]=i.split(":");return{host:e,port:eE(t)}}}(t),l=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${r}`),n}i="Browser",(0,o._registerComponent)(new(0,u.Component)("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;y(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:o,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ec(i)},u=new ev(n,r,s,l);return function(e,t){let n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Y);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{let i=e.getProvider("auth-internal");i.initialize()})),(0,o._registerComponent)(new(0,u.Component)("auth-internal",e=>{let t=eb(e.getProvider("auth").getImmediate());return new t2(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(t0,t1,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(i)),(0,o.registerVersion)(t0,t1,"esm2017")}),r.register("l73V3",function(t,n){function i(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)0>t.indexOf(i[r])&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}e(t.exports,"__rest",function(){return i}),"function"==typeof SuppressedError&&SuppressedError}),r.register("8EhaU",function(t,n){e(t.exports,"createMarkup",function(){return i});function i(e){return e.map(({book_image:e,title:t,description:n,author:i,buy_links:r,_id:s,list_name:o})=>`
      <div class="list-cards" id="${s}">
                <div class="js-item list-item "  id="${s}" >
                    <div class="image-container">
                        <img class="card-image" src="${e}" width="116" height="165" alt="${t}" >
                    </div>
                    <div class="content-container">
                        <h2 class="card-title">${t}</h2>
                        <p class="card-text">${o}</p>
                        <p class="main-card-text">${n}
                        </p>
                        <p class="text-author">${i}</p>
                        <button type="button" class="btn-delete">
                            <svg class="icon-trash" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6 2H10M2 4H14M12.6667 4L12.1991 11.0129C12.129 12.065 12.0939 12.5911 11.8667 12.99C11.6666 13.3412 11.3648 13.6235 11.0011 13.7998C10.588 14 10.0607 14 9.00623 14H6.99377C5.93927 14 5.41202 14 4.99889 13.7998C4.63517 13.6235 4.33339 13.3412 4.13332 12.99C3.90607 12.5911 3.871 12.065 3.80086 11.0129L3.33333 4M6.66667 7V10.3333M9.33333 7V10.3333" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
                        </button>
                    </div>
                    <ul class="main-list-icon">
                    <li class="item-images">
                        <a href="${r[0].url}" class="item-link amazon" target="_blank"
                        rel="noreferrer noopener">
                            <span class="underline"></span>
                        </a>
                    </li>
                    <li class="item-images">
                        <a href="${r[1].url}" class="item-link apple-books" target="_blank"
                        rel="noreferrer noopener">
                    <span class="underline"></span>
                        </a>
                    </li>
                    <li class="item-images">
                        <a href="${r[2].url}" class="item-link bookshop" target="_blank"
                        rel="noreferrer noopener">
                        <span class="underline"></span>
                        </a>
                    </li>
                    </ul>

                </div>
                               
            `).join("")}}),r.register("bKkcI",function(e,t){let n=document.querySelector(".user-bar-btn"),i=document.querySelector(".user-bar-log-out-btn");n.addEventListener("click",function(){i.classList.toggle("is-open")})}),r.register("frkcu",function(e,t){document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("scrollToTopButton");e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",function(){let t=window.scrollY||document.documentElement.scrollTop;t>400?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")})})}),r.register("4JIjf",function(e,t){r("eyjy7");var n=r("byAmK"),i=r("bMZn5");let s=document.querySelector(".user-bar-log-out-btn"),o=document.querySelector(".log-out-mob-btn");function a(){(0,n.B)(i.auth).then(()=>{Notify.success("Sign-out successful")}).catch(e=>{Notify.failure("An error happened")}).finally(()=>{location.reload()})}s.addEventListener("click",a),o.addEventListener("click",a)});
//# sourceMappingURL=index.58689c3d.js.map
